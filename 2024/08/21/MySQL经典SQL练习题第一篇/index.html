<!doctypehtml><html lang=zh-CN><meta charset=UTF-8><meta content=width=device-width name=viewport><meta media="(prefers-color-scheme: light)" content=#222 name=theme-color><meta media="(prefers-color-scheme: dark)" content=#222 name=theme-color><meta content="Hexo 7.3.0" name=generator><link href=/images/apple-touch-icon-next.png rel=apple-touch-icon sizes=180x180><link href=/images/favicon-32x32-next.png rel=icon sizes=32x32 type=image/png><link href=/images/favicon-16x16-next.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/logo.svg rel=mask-icon><link href=/css/main.css rel=stylesheet><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css integrity=sha256-XOqroi11tY4EFQMR9ZYwZWKj5ZXiftSx36RRuC3anlA= rel=stylesheet><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css integrity=sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE= rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"hshz21.gitee.io","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.20.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src=/js/config.js></script><meta content="1、准备环境1.1、建表1234567891011121314151617181920212223242526CREATE TABLE `s1_student` (  `sid` int(11) NOT NULL COMMENT '学生ID',  `sname` varchar(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT &" name=description><meta content=article property=og:type><meta content=MySQL系列-MySQL经典SQL练习题第一篇 property=og:title><meta content=https://hshz21.gitee.io/2024/08/21/MySQL%E7%BB%8F%E5%85%B8SQL%E7%BB%83%E4%B9%A0%E9%A2%98%E7%AC%AC%E4%B8%80%E7%AF%87/index.html property=og:url><meta content=豪哥博客 property=og:site_name><meta content="1、准备环境1.1、建表1234567891011121314151617181920212223242526CREATE TABLE `s1_student` (  `sid` int(11) NOT NULL COMMENT '学生ID',  `sname` varchar(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT &" property=og:description><meta content=zh_CN property=og:locale><meta content=2024-08-21T13:39:14.087Z property=article:published_time><meta content=2023-09-01T06:40:41.556Z property=article:modified_time><meta content=豪哥 property=article:author><meta content=SQL练习 property=article:tag><meta content=MySQL练习 property=article:tag><meta content=summary name=twitter:card><link href=https://hshz21.gitee.io/2024/08/21/MySQL%E7%BB%8F%E5%85%B8SQL%E7%BB%83%E4%B9%A0%E9%A2%98%E7%AC%AC%E4%B8%80%E7%AF%87/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://hshz21.gitee.io/2024/08/21/MySQL%E7%BB%8F%E5%85%B8SQL%E7%BB%83%E4%B9%A0%E9%A2%98%E7%AC%AC%E4%B8%80%E7%AF%87/","path":"2024/08/21/MySQL经典SQL练习题第一篇/","title":"MySQL系列-MySQL经典SQL练习题第一篇"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>MySQL系列-MySQL经典SQL练习题第一篇 | 豪哥博客</title><noscript><link href=/css/noscript.css rel=stylesheet></noscript><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label=切换导航栏 class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>豪哥博客</p> <i class=logo-line></i> </a><p class=site-subtitle itemprop=description>豪哥博客</div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=搜索 role=button><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>分类</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a><li class="menu-item menu-item-search"><a class=popup-trigger role=button><i class="fa fa-search fa-fw"></i>搜索 </a></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon> <i class="fa fa-search"></i> </span><div class=search-input-container><input autocapitalize=off autocomplete=off class=search-input maxlength=80 placeholder=搜索... spellcheck=false type=search></div><span class=popup-btn-close role=button> <i class="fa fa-times-circle"></i> </span></div><div class=search-result-container><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录<li class=sidebar-nav-overview>站点概览</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link href=#1%E3%80%81%E5%87%86%E5%A4%87%E7%8E%AF%E5%A2%83><span class=nav-number>1.</span> <span class=nav-text>1、准备环境</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#1-1%E3%80%81%E5%BB%BA%E8%A1%A8><span class=nav-number>1.1.</span> <span class=nav-text>1.1、建表</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#1-2%E3%80%81%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE><span class=nav-number>1.2.</span> <span class=nav-text>1.2、插入数据</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#1-3%E3%80%81%E6%A3%80%E6%9F%A5%E8%A1%A8%E6%95%B0%E6%8D%AE%E6%98%AF%E5%90%A6%E6%8F%92%E5%85%A5%E6%88%90%E5%8A%9F><span class=nav-number>1.3.</span> <span class=nav-text>1.3、检查表数据是否插入成功</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#2%E3%80%81SQL%E7%BB%83%E4%B9%A0><span class=nav-number>2.</span> <span class=nav-text>2、SQL练习</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#2-1%E3%80%81%E6%9F%A5%E8%AF%A2-%E8%AF%BE%E7%A8%8B1%E6%AF%94%E8%AF%BE%E7%A8%8B2%E6%88%90%E7%BB%A9%E9%AB%98%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF%E5%8F%8A%E8%AF%BE%E7%A8%8B%E5%88%86%E6%95%B0><span class=nav-number>2.1.</span> <span class=nav-text>2.1、查询 课程1比课程2成绩高的学生信息及课程分数</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-2%E3%80%81%E6%9F%A5%E8%AF%A2-%E8%AF%BE%E7%A8%8B1%E5%92%8C%E8%AF%BE%E7%A8%8B2%E9%83%BD%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF><span class=nav-number>2.2.</span> <span class=nav-text>2.2、查询 课程1和课程2都学习的学生信息</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-3%E3%80%81%E6%9F%A5%E8%AF%A2-%E5%8F%AA%E5%AD%A6%E8%AF%BE%E7%A8%8B1%E4%B8%8D%E5%AD%A6%E8%AF%BE%E7%A8%8B2%E7%9A%84%E6%83%85%E5%86%B5%EF%BC%8C%E4%B8%8D%E5%AD%98%E5%9C%A8%E6%98%BE%E7%A4%BAnull><span class=nav-number>2.3.</span> <span class=nav-text>2.3、查询 只学课程1不学课程2的情况，不存在显示null</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-4%E3%80%81%E6%9F%A5%E8%AF%A2-%E4%B8%8D%E5%AD%98%E5%9C%A8%E8%AF%BE%E7%A8%8B1%EF%BC%8C%E4%BD%86%E5%AD%98%E5%9C%A8%E8%AF%BE%E7%A8%8B2%E7%9A%84%E6%83%85%E5%86%B5><span class=nav-number>2.4.</span> <span class=nav-text>2.4、查询 不存在课程1，但存在课程2的情况</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-5%E3%80%81%E6%9F%A5%E8%AF%A2-%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9%E7%AD%89%E4%BA%8E60%E5%88%86%E7%9A%84%E5%AD%A6%E7%94%9F%E7%BC%96%E5%8F%B7%E3%80%81%E5%AD%A6%E7%94%9F%E5%A7%93%E5%90%8D%E3%80%81%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9><span class=nav-number>2.5.</span> <span class=nav-text>2.5、查询 平均成绩等于60分的学生编号、学生姓名、平均成绩</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-6%E3%80%81%E6%9F%A5%E8%AF%A2-%E5%9C%A8%E8%A1%A8s1-score%E6%9C%89%E6%88%90%E7%BB%A9%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF><span class=nav-number>2.6.</span> <span class=nav-text>2.6、查询 在表s1_score有成绩数据的学生信息</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-7%E3%80%81%E6%9F%A5%E8%AF%A2-%E6%89%80%E6%9C%89%E5%90%8C%E5%AD%A6%E7%9A%84%E5%AD%A6%E7%94%9F%E7%BC%96%E5%8F%B7%E3%80%81%E5%AD%A6%E7%94%9F%E5%A7%93%E5%90%8D%E3%80%81%E9%80%89%E8%AF%BE%E6%80%BB%E6%95%B0%E3%80%81%E6%89%80%E6%9C%89%E8%AF%BE%E7%A8%8B%E6%80%BB%E6%88%90%E7%BB%A9%EF%BC%8C%E6%B2%A1%E6%88%90%E7%BB%A9%E6%98%BE%E7%A4%BA%E4%B8%BAnull><span class=nav-number>2.7.</span> <span class=nav-text>2.7、查询 所有同学的学生编号、学生姓名、选课总数、所有课程总成绩，没成绩显示为null</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-8%E3%80%81%E6%9F%A5%E8%AF%A2-%E6%9D%8E%E5%A7%93%E8%80%81%E5%B8%88%E7%9A%84%E6%95%B0%E9%87%8F><span class=nav-number>2.8.</span> <span class=nav-text>2.8、查询 李姓老师的数量</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-9%E3%80%81%E6%9F%A5%E8%AF%A2-%E5%AD%A6%E8%BF%87%E5%BC%A0%E4%B8%89%E8%80%81%E5%B8%88%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF><span class=nav-number>2.9.</span> <span class=nav-text>2.9、查询 学过张三老师课程的学生信息</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-10%E3%80%81%E6%9F%A5%E8%AF%A2-%E6%B2%A1%E6%9C%89%E5%AD%A6%E5%AE%8C%E6%89%80%E6%9C%89%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF><span class=nav-number>2.10.</span> <span class=nav-text>2.10、查询 没有学完所有课程的学生信息</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-11%E3%80%81%E6%9F%A5%E8%AF%A2-%E8%87%B3%E5%B0%91%E6%9C%89%E4%B8%80%E9%97%A8%E4%B8%8E%E5%AD%A6%E7%94%9FID%E4%B8%BA1%E7%9A%84%E5%AD%A6%E7%94%9F%E5%AD%A6%E4%B9%A0%E7%9A%84%E8%AF%BE%E7%A8%8B%E7%9B%B8%E5%90%8C%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF><span class=nav-number>2.11.</span> <span class=nav-text>2.11、查询 至少有一门与学生ID为1的学生学习的课程相同的学生信息</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-12%E3%80%81%E6%9F%A5%E8%AF%A2-%E4%B8%8E%E5%AD%A6%E7%94%9FID%E4%B8%BA1%E7%9A%84%E5%AD%A6%E7%94%9F%E6%89%80%E5%AD%A6%E8%AF%BE%E7%A8%8B%E5%AE%8C%E5%85%A8%E7%9B%B8%E5%90%8C%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF><span class=nav-number>2.12.</span> <span class=nav-text>2.12、查询 与学生ID为1的学生所学课程完全相同的学生信息</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-13%E3%80%81%E6%9F%A5%E8%AF%A2%E6%B2%A1%E5%AD%A6%E8%BF%87%E2%80%9D%E5%BC%A0%E4%B8%89%E2%80%9D%E8%80%81%E5%B8%88%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E5%A7%93%E5%90%8D><span class=nav-number>2.13.</span> <span class=nav-text>2.13、查询没学过”张三”老师课程的学生姓名</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-14%E3%80%81%E6%9F%A5%E8%AF%A2%E6%9C%89%E4%B8%A4%E9%97%A8%E5%8F%8A%E4%BB%A5%E4%B8%8A%E8%AF%BE%E7%A8%8B%E4%B8%8D%E5%8F%8A%E6%A0%BC%E7%9A%84%E5%90%8C%E5%AD%A6%E5%AD%A6%E5%8F%B7%EF%BC%8C%E5%A7%93%E5%90%8D%E5%8F%8A%E5%85%B6%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9><span class=nav-number>2.14.</span> <span class=nav-text>2.14、查询有两门及以上课程不及格的同学学号，姓名及其平均成绩</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-15%E3%80%81%E6%A3%80%E7%B4%A2%E2%80%9D-01-%E2%80%9C%E8%AF%BE%E7%A8%8B%E5%88%86%E6%95%B0%E5%B0%8F%E4%BA%8E-60%EF%BC%8C%E6%8C%89%E5%88%86%E6%95%B0%E9%99%8D%E5%BA%8F%E6%8E%92%E5%88%97%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF><span class=nav-number>2.15.</span> <span class=nav-text>2.15、检索” 01 “课程分数小于 60，按分数降序排列的学生信息</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-16%E3%80%81%E6%8C%89%E7%85%A7%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9%E4%BB%8E%E9%AB%98%E5%88%B0%E4%BD%8E%E5%B1%95%E7%A4%BA%E6%89%80%E6%9C%89%E5%AD%A6%E7%94%9F%E7%9A%84%E6%89%80%E6%9C%89%E8%AF%BE%E7%A8%8B%E7%9A%84%E6%88%90%E7%BB%A9%E4%BB%A5%E5%8F%8A%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9><span class=nav-number>2.16.</span> <span class=nav-text>2.16、按照平均成绩从高到低展示所有学生的所有课程的成绩以及平均成绩</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-17%E3%80%81%E6%9F%A5%E8%AF%A2%E5%90%84%E7%A7%91%E6%88%90%E7%BB%A9%E6%9C%80%E9%AB%98%E5%88%86%E3%80%81%E6%9C%80%E4%BD%8E%E5%88%86%E5%92%8C%E5%B9%B3%E5%9D%87%E5%88%86%EF%BC%9A-%E4%BB%A5%E5%A6%82%E4%B8%8B%E5%BD%A2%E5%BC%8F%E6%98%BE%E7%A4%BA%EF%BC%9A%E8%AF%BE%E7%A8%8B-ID%EF%BC%8C%E8%AF%BE%E7%A8%8B-name%EF%BC%8C%E6%9C%80%E5%88%86%EF%BC%8C%E6%9C%80%E4%BD%8E%E5%88%86%EF%BC%8C%E5%B9%B3%E5%9D%87%E5%88%86%EF%BC%8C%E5%8F%8A%E6%A0%BC%E7%8E%87%EF%BC%8C%E4%B8%AD%E7%AD%89%E7%8E%87%EF%BC%8C%E4%BC%98%E8%89%AF%E7%8E%87%EF%BC%8C%E4%BC%98%E7%A7%80%E7%8E%87-%E5%8F%8A%E6%A0%BC%E4%B8%BA-60%EF%BC%8C%E4%B8%AD%E7%AD%89%E4%B8%BA%EF%BC%9A70-80%EF%BC%8C%E4%BC%98%E8%89%AF%E4%B8%BA%EF%BC%9A80-90%EF%BC%8C%E4%BC%98%E7%A7%80%E4%B8%BA%EF%BC%9A-90%E8%A6%81%E6%B1%82%E8%BE%93%E5%87%BA%E8%AF%BE%E7%A8%8B%E5%8F%B7%E5%92%8C%E9%80%89%E4%BF%AE%E4%BA%BA%E6%95%B0%EF%BC%8C%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E6%8C%89%E4%BA%BA%E6%95%B0%E9%99%8D%E5%BA%8F%E6%8E%92%E5%88%97%EF%BC%8C%E8%8B%A5%E4%BA%BA%E6%95%B0%E7%9B%B8%E5%90%8C%EF%BC%8C%E6%8C%89%E8%AF%BE%E7%A8%8B%E5%8F%B7%E5%8D%87%E5%BA%8F%E6%8E%92%E5%88%97><span class=nav-number>2.17.</span> <span class=nav-text>2.17、查询各科成绩最高分、最低分和平均分： 以如下形式显示：课程 ID，课程 name，最分，最低分，平均分，及格率，中等率，优良率，优秀率 及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-18%E3%80%81%E6%8C%89%E5%90%84%E7%A7%91%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F%EF%BC%8C%E5%B9%B6%E6%98%BE%E7%A4%BA%E6%8E%92%E5%90%8D><span class=nav-number>2.18.</span> <span class=nav-text>2.18、按各科平均成绩进行排序，并显示排名</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-19%E3%80%81%E6%8C%89%E5%90%84%E7%A7%91%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F%EF%BC%8C%E5%B9%B6%E6%98%BE%E7%A4%BA%E6%8E%92%E5%90%8D%EF%BC%8C%E9%87%8D%E5%A4%8D%E6%97%B6%E4%B8%8D%E4%BF%9D%E7%95%99%E5%90%8D%E6%AC%A1%E7%A9%BA%E7%BC%BA><span class=nav-number>2.19.</span> <span class=nav-text>2.19、按各科平均成绩进行排序，并显示排名，重复时不保留名次空缺</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-20%E3%80%81%E6%9F%A5%E8%AF%A2%E5%AD%A6%E7%94%9F%E7%9A%84%E6%80%BB%E6%88%90%E7%BB%A9%EF%BC%8C%E5%B9%B6%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%90%8D%EF%BC%8C%E6%80%BB%E5%88%86%E9%87%8D%E5%A4%8D%E6%97%B6%E4%BF%9D%E7%95%99%E5%90%8D%E6%AC%A1%E7%A9%BA%E7%BC%BA><span class=nav-number>2.20.</span> <span class=nav-text>2.20、查询学生的总成绩，并进行排名，总分重复时保留名次空缺</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-21%E3%80%81%E6%9F%A5%E8%AF%A2%E5%AD%A6%E7%94%9F%E7%9A%84%E6%80%BB%E6%88%90%E7%BB%A9%EF%BC%8C%E5%B9%B6%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%90%8D%EF%BC%8C%E6%80%BB%E5%88%86%E9%87%8D%E5%A4%8D%E6%97%B6%E4%B8%8D%E4%BF%9D%E7%95%99%E5%90%8D%E6%AC%A1%E7%A9%BA%E7%BC%BA><span class=nav-number>2.21.</span> <span class=nav-text>2.21、查询学生的总成绩，并进行排名，总分重复时不保留名次空缺</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-22%E3%80%81%E7%BB%9F%E8%AE%A1%E5%90%84%E7%A7%91%E6%88%90%E7%BB%A9%E5%90%84%E5%88%86%E6%95%B0%E6%AE%B5%E4%BA%BA%E6%95%B0%EF%BC%9A%E8%AF%BE%E7%A8%8B%E7%BC%96%E5%8F%B7%EF%BC%8C%E8%AF%BE%E7%A8%8B%E5%90%8D%E7%A7%B0%EF%BC%8C-100-85%EF%BC%89%EF%BC%8C-85-70%EF%BC%89%EF%BC%8C-70-60%EF%BC%89%EF%BC%8C-60-0%EF%BC%89%E5%8F%8A%E6%89%80%E5%8D%A0%E7%99%BE%E5%88%86%E3%80%82><span class=nav-number>2.22.</span> <span class=nav-text>2.22、统计各科成绩各分数段人数：课程编号，课程名称，[100-85），[85-70），[70-60），[60-0）及所占百分。</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-23%E3%80%81%E6%9F%A5%E8%AF%A2%E5%90%84%E7%A7%91%E6%88%90%E7%BB%A9%E5%89%8D%E4%B8%89%E5%90%8D%E7%9A%84%E8%AE%B0%E5%BD%95><span class=nav-number>2.23.</span> <span class=nav-text>2.23、查询各科成绩前三名的记录</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-24%E3%80%81%E6%9F%A5%E8%AF%A2%E6%AF%8F%E9%97%A8%E8%AF%BE%E7%A8%8B%E8%A2%AB%E9%80%89%E4%BF%AE%E7%9A%84%E5%AD%A6%E7%94%9F%E6%95%B0><span class=nav-number>2.24.</span> <span class=nav-text>2.24、查询每门课程被选修的学生数</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-25%E3%80%81%E6%9F%A5%E8%AF%A2%E5%87%BA%E5%8F%AA%E9%80%89%E4%BF%AE%E4%B8%A4%E9%97%A8%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E5%AD%A6%E5%8F%B7%E5%92%8C%E5%A7%93%E5%90%8D><span class=nav-number>2.25.</span> <span class=nav-text>2.25、查询出只选修两门课程的学生学号和姓名</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-26%E3%80%81%E6%9F%A5%E8%AF%A2%E7%94%B7%E7%94%9F%E3%80%81%E5%A5%B3%E7%94%9F%E4%BA%BA%E6%95%B0><span class=nav-number>2.26.</span> <span class=nav-text>2.26、查询男生、女生人数</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-27%E3%80%81%E6%9F%A5%E8%AF%A2%E5%90%8D%E5%AD%97%E4%B8%AD%E5%90%AB%E6%9C%89%E3%80%8C%E9%A3%8E%E3%80%8D%E5%AD%97%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF><span class=nav-number>2.27.</span> <span class=nav-text>2.27、查询名字中含有「风」字的学生信息</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-28%E3%80%81%E6%9F%A5%E8%AF%A2%E5%90%8C%E5%90%8D%E5%90%8C%E6%80%A7%E5%AD%A6%E7%94%9F%E5%90%8D%E5%8D%95%EF%BC%8C%E5%B9%B6%E7%BB%9F%E8%AE%A1%E5%90%8C%E5%90%8D%E5%90%8C%E6%80%A7%E4%BA%BA%E6%95%B0><span class=nav-number>2.28.</span> <span class=nav-text>2.28、查询同名同性学生名单，并统计同名同性人数</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-29%E3%80%81%E6%9F%A5%E8%AF%A2-1990-%E5%B9%B4%E5%87%BA%E7%94%9F%E7%9A%84%E5%AD%A6%E7%94%9F%E5%90%8D%E5%8D%95><span class=nav-number>2.29.</span> <span class=nav-text>2.29、查询 1990 年出生的学生名单</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-30%E3%80%81%E6%9F%A5%E8%AF%A2%E6%AF%8F%E9%97%A8%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9%EF%BC%8C%E7%BB%93%E6%9E%9C%E6%8C%89%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9%E9%99%8D%E5%BA%8F%E6%8E%92%E5%88%97%EF%BC%8C%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9%E7%9B%B8%E5%90%8C%E6%97%B6%EF%BC%8C%E6%8C%89%E8%AF%BE%E7%A8%8B%E7%BC%96%E5%8F%B7%E5%8D%87%E5%BA%8F%E6%8E%92%E5%88%97><span class=nav-number>2.30.</span> <span class=nav-text>2.30、查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-31%E3%80%81%E6%9F%A5%E8%AF%A2%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9%E5%A4%A7%E4%BA%8E%E7%AD%89%E4%BA%8E-85-%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%A6%E7%94%9F%E7%9A%84%E5%AD%A6%E5%8F%B7%E3%80%81%E5%A7%93%E5%90%8D%E5%92%8C%E5%B9%B3%E5%9D%87%E6%88%90%E7%BB%A9><span class=nav-number>2.31.</span> <span class=nav-text>2.31、查询平均成绩大于等于 85 的所有学生的学号、姓名和平均成绩</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-32%E3%80%81%E6%9F%A5%E8%AF%A2%E8%AF%BE%E7%A8%8B%E5%90%8D%E7%A7%B0%E4%B8%BA%E3%80%8C%E6%95%B0%E5%AD%A6%E3%80%8D%EF%BC%8C%E4%B8%94%E5%88%86%E6%95%B0%E4%BD%8E%E4%BA%8E-60-%E7%9A%84%E5%AD%A6%E7%94%9F%E5%A7%93%E5%90%8D%E5%92%8C%E5%88%86%E6%95%B0><span class=nav-number>2.32.</span> <span class=nav-text>2.32、查询课程名称为「数学」，且分数低于 60 的学生姓名和分数</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-33%E3%80%81%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89%E5%AD%A6%E7%94%9F%E7%9A%84%E8%AF%BE%E7%A8%8B%E5%8F%8A%E5%88%86%E6%95%B0%E6%83%85%E5%86%B5%EF%BC%88%E5%AD%98%E5%9C%A8%E5%AD%A6%E7%94%9F%E6%B2%A1%E6%88%90%E7%BB%A9%EF%BC%8C%E6%B2%A1%E9%80%89%E8%AF%BE%E7%9A%84%E6%83%85%E5%86%B5%EF%BC%89><span class=nav-number>2.33.</span> <span class=nav-text>2.33、查询所有学生的课程及分数情况（存在学生没成绩，没选课的情况）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-34%E3%80%81%E6%9F%A5%E8%AF%A2%E4%BB%BB%E4%BD%95%E4%B8%80%E9%97%A8%E8%AF%BE%E7%A8%8B%E6%88%90%E7%BB%A9%E5%9C%A8-70-%E5%88%86%E4%BB%A5%E4%B8%8A%E7%9A%84%E5%A7%93%E5%90%8D%E3%80%81%E8%AF%BE%E7%A8%8B%E5%90%8D%E7%A7%B0%E5%92%8C%E5%88%86%E6%95%B0><span class=nav-number>2.34.</span> <span class=nav-text>2.34、查询任何一门课程成绩在 70 分以上的姓名、课程名称和分数</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-35%E3%80%81%E6%9F%A5%E8%AF%A2%E4%B8%8D%E5%8F%8A%E6%A0%BC%E7%9A%84%E8%AF%BE%E7%A8%8B><span class=nav-number>2.35.</span> <span class=nav-text>2.35、查询不及格的课程</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-36%E3%80%81%E6%9F%A5%E8%AF%A2%E8%AF%BE%E7%A8%8B%E7%BC%96%E5%8F%B7%E4%B8%BA-01-%E4%B8%94%E8%AF%BE%E7%A8%8B%E6%88%90%E7%BB%A9%E5%9C%A8-80-%E5%88%86%E4%BB%A5%E4%B8%8A%E7%9A%84%E5%AD%A6%E7%94%9F%E7%9A%84%E5%AD%A6%E5%8F%B7%E5%92%8C%E5%A7%93%E5%90%8D><span class=nav-number>2.36.</span> <span class=nav-text>2.36、查询课程编号为 01 且课程成绩在 80 分以上的学生的学号和姓名</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-37%E3%80%81%E6%B1%82%E6%AF%8F%E9%97%A8%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BA%BA%E6%95%B0><span class=nav-number>2.37.</span> <span class=nav-text>2.37、求每门课程的学生人数</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-38%E3%80%81%E6%88%90%E7%BB%A9%E4%B8%8D%E9%87%8D%E5%A4%8D%EF%BC%8C%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE%E3%80%8C%E5%BC%A0%E4%B8%89%E3%80%8D%E8%80%81%E5%B8%88%E6%89%80%E6%8E%88%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E4%B8%AD%EF%BC%8C%E6%88%90%E7%BB%A9%E6%9C%80%E9%AB%98%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF%E5%8F%8A%E5%85%B6%E6%88%90%E7%BB%A9><span class=nav-number>2.38.</span> <span class=nav-text>2.38、成绩不重复，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-39%E3%80%81%E6%88%90%E7%BB%A9%E6%9C%89%E9%87%8D%E5%A4%8D%E7%9A%84%E6%83%85%E5%86%B5%E4%B8%8B%EF%BC%8C%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE%E3%80%8C%E5%BC%A0%E4%B8%89%E3%80%8D%E8%80%81%E5%B8%88%E6%89%80%E6%8E%88%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E4%B8%AD%EF%BC%8C%E6%88%90%E7%BB%A9%E6%9C%80%E9%AB%98%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF%E5%8F%8A%E5%85%B6%E6%88%90%E7%BB%A9><span class=nav-number>2.39.</span> <span class=nav-text>2.39、成绩有重复的情况下，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-40%E3%80%81%E6%9F%A5%E8%AF%A2%E4%B8%8D%E5%90%8C%E8%AF%BE%E7%A8%8B%E6%88%90%E7%BB%A9%E7%9B%B8%E5%90%8C%E7%9A%84%E5%AD%A6%E7%94%9F%E7%9A%84%E5%AD%A6%E7%94%9F%E7%BC%96%E5%8F%B7%E3%80%81%E8%AF%BE%E7%A8%8B%E7%BC%96%E5%8F%B7%E3%80%81%E5%AD%A6%E7%94%9F%E6%88%90%E7%BB%A9><span class=nav-number>2.40.</span> <span class=nav-text>2.40、查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-41%E3%80%81%E6%9F%A5%E8%AF%A2%E6%AF%8F%E9%97%A8%E8%AF%BE%E7%A8%8B%E6%88%90%E7%BB%A9%E6%9C%80%E5%A5%BD%E7%9A%84%E5%89%8D%E4%B8%A4%E5%90%8D><span class=nav-number>2.41.</span> <span class=nav-text>2.41、查询每门课程成绩最好的前两名</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-42%E3%80%81%E7%BB%9F%E8%AE%A1%E6%AF%8F%E9%97%A8%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E9%80%89%E4%BF%AE%E4%BA%BA%E6%95%B0%EF%BC%88%E8%B6%85%E8%BF%87-5-%E4%BA%BA%E7%9A%84%E8%AF%BE%E7%A8%8B%E6%89%8D%E7%BB%9F%E8%AE%A1%EF%BC%89%E3%80%82><span class=nav-number>2.42.</span> <span class=nav-text>2.42、统计每门课程的学生选修人数（超过 5 人的课程才统计）。</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-43%E3%80%81%E6%A3%80%E7%B4%A2%E8%87%B3%E5%B0%91%E9%80%89%E4%BF%AE%E4%B8%A4%E9%97%A8%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E5%AD%A6%E5%8F%B7><span class=nav-number>2.43.</span> <span class=nav-text>2.43、检索至少选修两门课程的学生学号</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-44%E3%80%81%E6%9F%A5%E8%AF%A2%E9%80%89%E4%BF%AE%E4%BA%86%E5%85%A8%E9%83%A8%E8%AF%BE%E7%A8%8B%E7%9A%84%E5%AD%A6%E7%94%9F%E4%BF%A1%E6%81%AF><span class=nav-number>2.44.</span> <span class=nav-text>2.44、查询选修了全部课程的学生信息</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-45%E3%80%81%E6%9F%A5%E8%AF%A2%E5%90%84%E5%AD%A6%E7%94%9F%E7%9A%84%E5%B9%B4%E9%BE%84%EF%BC%8C%E5%8F%AA%E6%8C%89%E5%B9%B4%E4%BB%BD%E6%9D%A5%E7%AE%97><span class=nav-number>2.45.</span> <span class=nav-text>2.45、查询各学生的年龄，只按年份来算</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-46%E3%80%81%E6%8C%89%E7%85%A7%E5%87%BA%E7%94%9F%E6%97%A5%E6%9C%9F%E6%9D%A5%E7%AE%97%EF%BC%8C%E5%BD%93%E5%89%8D%E6%9C%88%E6%97%A5-%E5%87%BA%E7%94%9F%E5%B9%B4%E6%9C%88%E7%9A%84%E6%9C%88%E6%97%A5%EF%BC%8C%E5%88%99%E5%B9%B4%E9%BE%84%E5%87%8F%E4%B8%80><span class=nav-number>2.46.</span> <span class=nav-text>2.46、按照出生日期来算，当前月日 < 出生年月的月日，则年龄减一</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-47%E3%80%81%E6%9F%A5%E8%AF%A2%E6%9C%AC%E5%91%A8%E8%BF%87%E7%94%9F%E6%97%A5%E7%9A%84%E5%AD%A6%E7%94%9F><span class=nav-number>2.47.</span> <span class=nav-text>2.47、查询本周过生日的学生</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-48%E3%80%81%E6%9F%A5%E8%AF%A2%E4%B8%8B%E5%91%A8%E8%BF%87%E7%94%9F%E6%97%A5%E7%9A%84%E5%AD%A6%E7%94%9F><span class=nav-number>2.48.</span> <span class=nav-text>2.48、查询下周过生日的学生</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-49%E3%80%81%E6%9F%A5%E8%AF%A2%E6%9C%AC%E6%9C%88%E8%BF%87%E7%94%9F%E6%97%A5%E7%9A%84%E5%AD%A6%E7%94%9F><span class=nav-number>2.49.</span> <span class=nav-text>2.49、查询本月过生日的学生</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#2-50%E3%80%81%E6%9F%A5%E8%AF%A2%E4%B8%8B%E6%9C%88%E8%BF%87%E7%94%9F%E6%97%A5%E7%9A%84%E5%AD%A6%E7%94%9F><span class=nav-number>2.50.</span> <span class=nav-text>2.50、查询下月过生日的学生</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#3%E3%80%81%E5%87%BD%E6%95%B0%E6%89%A9%E5%B1%95><span class=nav-number>3.</span> <span class=nav-text>3、函数扩展</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#3-1%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0><span class=nav-number>3.1.</span> <span class=nav-text>3.1、字符串函数</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#3-2%E3%80%81%E6%95%B0%E5%AD%97%E5%87%BD%E6%95%B0><span class=nav-number>3.2.</span> <span class=nav-text>3.2、数字函数</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#3-3%E3%80%81%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0><span class=nav-number>3.3.</span> <span class=nav-text>3.3、日期函数</span></a></ol></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><img alt=豪哥 class=site-author-image itemprop=image src=/static/imgs/avatar.png><p class=site-author-name itemprop=name>豪哥<div class=site-description itemprop=description>豪哥博客</div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>116</span> <span class=site-state-item-name>日志</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>36</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>129</span> <span class=site-state-item-name>标签</span></a></div></nav></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=zh-CN><link href=https://hshz21.gitee.io/2024/08/21/MySQL%E7%BB%8F%E5%85%B8SQL%E7%BB%83%E4%B9%A0%E9%A2%98%E7%AC%AC%E4%B8%80%E7%AF%87/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=/static/imgs/avatar.png itemprop=image> <meta content=豪哥 itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content=豪哥博客 itemprop=name> <meta content=豪哥博客 itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="MySQL系列-MySQL经典SQL练习题第一篇 | 豪哥博客" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>MySQL系列-MySQL经典SQL练习题第一篇</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2024-08-21 21:39:14" datetime=2024-08-21T21:39:14+08:00>2024-08-21</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2023-09-01 14:40:41" datetime=2023-09-01T14:40:41+08:00 itemprop=dateModified>2023-09-01</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/MySQL/ itemprop=url rel=index><span itemprop=name>MySQL</span></a> </span> </span></div></div></header><div class=post-body itemprop=articleBody><h1 id=1、准备环境><a class=headerlink href=#1、准备环境 title=1、准备环境></a>1、准备环境</h1><h2 id=1-1、建表><a class=headerlink href=#1-1、建表 title=1.1、建表></a>1.1、建表</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line>CREATE TABLE `s1_student` (</span><br><span class=line>  `sid` int(11) NOT NULL COMMENT '学生ID',</span><br><span class=line>  `sname` varchar(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT '学生名字',</span><br><span class=line>  `age` tinyint(4) DEFAULT NULL COMMENT '学生年龄',</span><br><span class=line>  `sex` char(2) COLLATE utf8mb4_general_ci DEFAULT NULL COMMENT '学生性别'</span><br><span class=line>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;</span><br><span class=line></span><br><span class=line>CREATE TABLE `s1_teacher` (</span><br><span class=line>  `tid` int(11) NOT NULL COMMENT '教师ID',</span><br><span class=line>  `tname` varchar(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT '教师名字',</span><br><span class=line>  PRIMARY KEY (`tid`)</span><br><span class=line>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;</span><br><span class=line></span><br><span class=line>CREATE TABLE `s1_course` (</span><br><span class=line>  `cid` int(11) NOT NULL COMMENT '课程ID',</span><br><span class=line>  `cname` varchar(255) COLLATE utf8mb4_general_ci NOT NULL COMMENT '课程名字',</span><br><span class=line>  `tid` int(11) NOT NULL COMMENT '教师ID',</span><br><span class=line>  PRIMARY KEY (`cid`)</span><br><span class=line>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;</span><br><span class=line></span><br><span class=line>CREATE TABLE `s1_score` (</span><br><span class=line>  `sid` int(11) NOT NULL COMMENT '学生ID',</span><br><span class=line>  `cid` int(11) NOT NULL COMMENT '课程ID',</span><br><span class=line>  `score` smallint(6) NOT NULL COMMENT '成绩',</span><br><span class=line>  PRIMARY KEY (`sid`)</span><br><span class=line>) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;</span><br></pre></table></figure><h2 id=1-2、插入数据><a class=headerlink href=#1-2、插入数据 title=1.2、插入数据></a>1.2、插入数据</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br></pre><td class=code><pre><span class=line>insert into s1_student values</span><br><span class=line>(1 , '赵雷' , 18 , '男'),</span><br><span class=line>(2 , '钱电' , 18 , '男'),</span><br><span class=line>(3 , '孙风' , 18 , '男'), </span><br><span class=line>(4 , '李云' , 18 , '男'), </span><br><span class=line>(5 , '周梅' , 19 , '女'), </span><br><span class=line>(6 , '吴兰' , 19 , '女'), </span><br><span class=line>(7 , '郑竹' , 19 , '女'), </span><br><span class=line>(8 , '张三' , 21 , '女'), </span><br><span class=line>(9 , '李四' , 21 , '女'), </span><br><span class=line>(10 , '李四' , 22 , '女'), </span><br><span class=line>(12 , '赵六' , 23 , '女'), </span><br><span class=line>(13 , '孙七' , 25 , '女'); </span><br><span class=line></span><br><span class=line>insert into s1_teacher values</span><br><span class=line>(1, '张三'),</span><br><span class=line>(2, '李四'),</span><br><span class=line>(3, '王五'); </span><br><span class=line></span><br><span class=line>insert into s1_course values</span><br><span class=line>(1 , '语文' , 2),</span><br><span class=line>(2 , '数学', 1),</span><br><span class=line>(3 , '英语', 3);</span><br><span class=line></span><br><span class=line>insert into s1_score values</span><br><span class=line>(1, 1, 80),</span><br><span class=line>(1, 2, 90),</span><br><span class=line>(1, 3, 99), </span><br><span class=line>(2, 1, 70), </span><br><span class=line>(2, 2, 60),</span><br><span class=line>(2, 3, 80), </span><br><span class=line>(3, 1, 80), </span><br><span class=line>(3, 2, 80), </span><br><span class=line>(3, 3, 80), </span><br><span class=line>(4, 1, 50), </span><br><span class=line>(4, 2, 30), </span><br><span class=line>(4, 3, 20), </span><br><span class=line>(5, 1, 76), </span><br><span class=line>(5, 2, 87), </span><br><span class=line>(6, 1, 31), </span><br><span class=line>(6, 3, 34), </span><br><span class=line>(7, 2, 89), </span><br><span class=line>(7, 3, 98);</span><br></pre></table></figure><h2 id=1-3、检查表数据是否插入成功><a class=headerlink href=#1-3、检查表数据是否插入成功 title=1.3、检查表数据是否插入成功></a>1.3、检查表数据是否插入成功</h2><figure class="highlight sql"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line><span class=keyword>select</span> <span class=operator>*</span> <span class=keyword>from</span> s1_student;</span><br><span class=line><span class=keyword>select</span> <span class=operator>*</span> <span class=keyword>from</span> s1_teacher;</span><br><span class=line><span class=keyword>select</span> <span class=operator>*</span> <span class=keyword>from</span> s1_course;</span><br><span class=line><span class=keyword>select</span> <span class=operator>*</span> <span class=keyword>from</span> s1_score;</span><br></pre></table></figure><h1 id=2、SQL练习><a class=headerlink href=#2、SQL练习 title=2、SQL练习></a>2、SQL练习</h1><h2 id=2-1、查询-课程1比课程2成绩高的学生信息及课程分数><a title="2.1、查询 课程1比课程2成绩高的学生信息及课程分数" class=headerlink href=#2-1、查询-课程1比课程2成绩高的学生信息及课程分数></a>2.1、查询 课程1比课程2成绩高的学生信息及课程分数</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br></pre><td class=code><pre><span class=line>select ss1.sid, st.sname, s.cid, s.score</span><br><span class=line>from(</span><br><span class=line>	select s1.sid, s1.cid, s1.score as '语文', s2.score as '数学'</span><br><span class=line>	from (</span><br><span class=line>		select sid, cid, score from s1_score s where s.cid = 1</span><br><span class=line>	) s1</span><br><span class=line>	left join (</span><br><span class=line>		select sid, cid, score from s1_score s where s.cid = 2</span><br><span class=line>	) s2</span><br><span class=line>	on s1.sid = s2.sid</span><br><span class=line>	where s1.score > s2.score</span><br><span class=line>) ss1</span><br><span class=line>join s1_student st on ss1.sid = st.sid</span><br><span class=line>join s1_score s on ss1.sid = s.sid; </span><br><span class=line></span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select </span><br><span class=line>	st.*,</span><br><span class=line>	oo1.c1_score as "课程1成绩",</span><br><span class=line>	oo1.c2_score as "课程2成绩"</span><br><span class=line>from s1_student as st</span><br><span class=line>join(</span><br><span class=line>	select </span><br><span class=line>		o1.sid, </span><br><span class=line>		o1.score as "c1_score",</span><br><span class=line>		o2.score as "c2_score"</span><br><span class=line>	from (</span><br><span class=line>		select s.sid, s.cid, s.score</span><br><span class=line>		from s1_score as s</span><br><span class=line>		where s.cid = 1</span><br><span class=line>	) as o1</span><br><span class=line>	left join (</span><br><span class=line>		select s.sid, s.cid, s.score</span><br><span class=line>		from s1_score as s</span><br><span class=line>		where s.cid = 2</span><br><span class=line>	) as o2 on o1.sid = o2.sid</span><br><span class=line>	where o1.score > o2.score</span><br><span class=line>) as oo1 on st.sid = oo1.sid</span><br></pre></table></figure><h2 id=2-2、查询-课程1和课程2都学习的学生信息><a title="2.2、查询 课程1和课程2都学习的学生信息" class=headerlink href=#2-2、查询-课程1和课程2都学习的学生信息></a>2.2、查询 课程1和课程2都学习的学生信息</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line>select st.sid, st.sname</span><br><span class=line>from(</span><br><span class=line>	select ss1.sid</span><br><span class=line>	from(</span><br><span class=line>		select s.sid from s1_score s where s.cid = 1</span><br><span class=line>	) as ss1</span><br><span class=line>	join(</span><br><span class=line>		select s.sid from s1_score s where s.cid = 2</span><br><span class=line>	) as ss2</span><br><span class=line>	on ss1.sid = ss2.sid</span><br><span class=line>) as r</span><br><span class=line>join s1_student st on r.sid = st.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select st.*</span><br><span class=line>from (</span><br><span class=line>	select o1.sid</span><br><span class=line>	from (</span><br><span class=line>		select *</span><br><span class=line>		from s1_score as s</span><br><span class=line>		where s.cid = 1 or s.cid = 2</span><br><span class=line>	) as o1</span><br><span class=line>	group by o1.sid</span><br><span class=line>	having count(o1.cid) = 2</span><br><span class=line>) as oo1</span><br><span class=line>join s1_student as st on oo1.sid = st.sid</span><br></pre></table></figure><h2 id=2-3、查询-只学课程1不学课程2的情况，不存在显示null><a title="2.3、查询 只学课程1不学课程2的情况，不存在显示null" class=headerlink href=#2-3、查询-只学课程1不学课程2的情况，不存在显示null></a>2.3、查询 只学课程1不学课程2的情况，不存在显示null</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line>select ss1.sid, ss1.cid, ss1.score, ss2.cid as 'v2cid', ss2.score as 'v2score'</span><br><span class=line>from(</span><br><span class=line>	select s.sid, s.cid, s.score from s1_score s where s.cid = 1</span><br><span class=line>) as ss1</span><br><span class=line>left join(</span><br><span class=line>	select s.sid, s.cid, s.score from s1_score s where s.cid = 2</span><br><span class=line>) as ss2</span><br><span class=line>on ss1.sid = ss2.sid;</span><br></pre></table></figure><h2 id=2-4、查询-不存在课程1，但存在课程2的情况><a title="2.4、查询 不存在课程1，但存在课程2的情况" class=headerlink href=#2-4、查询-不存在课程1，但存在课程2的情况></a>2.4、查询 不存在课程1，但存在课程2的情况</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line>select ss1.sid, ss1.cid, ss1.score, ss2.cid as 'v2cid', ss2.score as 'v2score'</span><br><span class=line>from(</span><br><span class=line>	select s.sid, s.cid, s.score from s1_score s where s.cid = 1</span><br><span class=line>) as ss1</span><br><span class=line>right join(</span><br><span class=line>	select s.sid, s.cid, s.score from s1_score s where s.cid = 2</span><br><span class=line>) as ss2</span><br><span class=line>on ss1.sid = ss2.sid;</span><br></pre></table></figure><h2 id=2-5、查询-平均成绩等于60分的学生编号、学生姓名、平均成绩><a title="2.5、查询 平均成绩等于60分的学生编号、学生姓名、平均成绩" class=headerlink href=#2-5、查询-平均成绩等于60分的学生编号、学生姓名、平均成绩></a>2.5、查询 平均成绩等于60分的学生编号、学生姓名、平均成绩</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br></pre><td class=code><pre><span class=line>select s1_student.sid, s1_student.sname, ss2.avg_score</span><br><span class=line>from s1_student</span><br><span class=line>right join(</span><br><span class=line>	select * from(</span><br><span class=line>		select sid, avg(score) as 'avg_score' from s1_score group by sid</span><br><span class=line>	) as ss1 </span><br><span class=line>	where ss1.avg_score >= 60</span><br><span class=line>) as ss2</span><br><span class=line>on s1_student.sid = ss2.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.sid,</span><br><span class=line>	st.sname,</span><br><span class=line>	o1.score_avg as "平均成绩"</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select s.sid, avg(score) as "score_avg"</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid </span><br><span class=line>	having avg(s.score) >= 60</span><br><span class=line>) as o1</span><br><span class=line>where st.sid = o1.sid</span><br></pre></table></figure><h2 id=2-6、查询-在表s1-score有成绩数据的学生信息><a title="2.6、查询 在表s1_score有成绩数据的学生信息" class=headerlink href=#2-6、查询-在表s1-score有成绩数据的学生信息></a>2.6、查询 在表s1_score有成绩数据的学生信息</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br></pre><td class=code><pre><span class=line>select s1.sid, st.sname</span><br><span class=line>from(</span><br><span class=line>	select DISTINCT sid from s1_score</span><br><span class=line>)as s1 </span><br><span class=line>join s1_student st on s1.sid = st.sid;</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select distinct s.sid</span><br><span class=line>	from s1_score as s</span><br><span class=line>) as o1 on st.sid = o1.sid</span><br></pre></table></figure><h2 id=2-7、查询-所有同学的学生编号、学生姓名、选课总数、所有课程总成绩，没成绩显示为null><a title="2.7、查询 所有同学的学生编号、学生姓名、选课总数、所有课程总成绩，没成绩显示为null" class=headerlink href=#2-7、查询-所有同学的学生编号、学生姓名、选课总数、所有课程总成绩，没成绩显示为null></a>2.7、查询 所有同学的学生编号、学生姓名、选课总数、所有课程总成绩，没成绩显示为null</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br></pre><td class=code><pre><span class=line>select st.sid, st.sname, ss1.cnum as '选课数量', ss1.ssum as '总成绩'</span><br><span class=line>from(</span><br><span class=line>	select sid, count(cid) as 'cnum', sum(score) as 'ssum' </span><br><span class=line>	from s1_score </span><br><span class=line>	group by sid</span><br><span class=line>)as ss1 </span><br><span class=line>right join s1_student st on ss1.sid = st.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.sid,</span><br><span class=line>	st.sname,</span><br><span class=line>	o1.c_count as "课程数量",</span><br><span class=line>	o1.score_sum as "总成绩"</span><br><span class=line>from s1_student as st</span><br><span class=line>left join (</span><br><span class=line>	select </span><br><span class=line>		s.sid,</span><br><span class=line>		count(s.cid) as "c_count",</span><br><span class=line>		sum(s.score) as "score_sum"</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid</span><br><span class=line>)as o1 on st.sid = o1.sid</span><br></pre></table></figure><h2 id=2-8、查询-李姓老师的数量><a title="2.8、查询 李姓老师的数量" class=headerlink href=#2-8、查询-李姓老师的数量></a>2.8、查询 李姓老师的数量</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line>select count(*) as '李姓老师数量'</span><br><span class=line>from s1_teacher t</span><br><span class=line>where t.tname like '李%'</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select </span><br><span class=line>	count(t.tid) as "李姓老师数量"</span><br><span class=line>from s1_teacher as t</span><br><span class=line>where t.tname like "李%"</span><br></pre></table></figure><h2 id=2-9、查询-学过张三老师课程的学生信息><a title="2.9、查询 学过张三老师课程的学生信息" class=headerlink href=#2-9、查询-学过张三老师课程的学生信息></a>2.9、查询 学过张三老师课程的学生信息</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line>select ss2.sid, ss2.sname</span><br><span class=line>from(</span><br><span class=line>	select s.sid from s1_score s where s.cid = (</span><br><span class=line>		select c.cid from s1_course c where c.tid = (</span><br><span class=line>			select t.tid from s1_teacher t where t.tname='张三'</span><br><span class=line>		)</span><br><span class=line>	)</span><br><span class=line>) as ss1</span><br><span class=line>join s1_student ss2 on ss1.sid = ss2.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>where st.sid in (</span><br><span class=line>	select s.sid</span><br><span class=line>	from s1_score as s</span><br><span class=line>	where s.cid in (</span><br><span class=line>		select c.cid</span><br><span class=line>		from s1_course as c</span><br><span class=line>		where c.tid = (</span><br><span class=line>			select t.tid</span><br><span class=line>			from s1_teacher as t</span><br><span class=line>			where t.tname = "张三"</span><br><span class=line>		)</span><br><span class=line>	)</span><br><span class=line>)</span><br></pre></table></figure><h2 id=2-10、查询-没有学完所有课程的学生信息><a title="2.10、查询 没有学完所有课程的学生信息" class=headerlink href=#2-10、查询-没有学完所有课程的学生信息></a>2.10、查询 没有学完所有课程的学生信息</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br></pre><td class=code><pre><span class=line># 解法1</span><br><span class=line>select ss1.sid, ss1.sname, count(ss1.cid) as cnum</span><br><span class=line>from(</span><br><span class=line>	select s.sid, s.cid, st.sname</span><br><span class=line>	from s1_score s </span><br><span class=line>	join s1_student st on s.sid = st.sid</span><br><span class=line>)as ss1 </span><br><span class=line>group by ss1.sid, ss1.sname</span><br><span class=line>having cnum < (select count(*) from s1_course)</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select st.sid, st.sname</span><br><span class=line>from s1_student st</span><br><span class=line>join(</span><br><span class=line>	select s.sid, count(*) as 'cnum'</span><br><span class=line>	from s1_score s </span><br><span class=line>	group by s.sid </span><br><span class=line>	having cnum < (select count(*) from s1_course)</span><br><span class=line>)as ss1 on st.sid = ss1.sid</span><br><span class=line></span><br><span class=line># 解法3</span><br><span class=line>select st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select s.sid</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid</span><br><span class=line>	having count(s.cid) < (</span><br><span class=line>		select count(*) from s1_course</span><br><span class=line>	)</span><br><span class=line>)as o1 on st.sid = o1.sid</span><br></pre></table></figure><h2 id=2-11、查询-至少有一门与学生ID为1的学生学习的课程相同的学生信息><a title="2.11、查询 至少有一门与学生ID为1的学生学习的课程相同的学生信息" class=headerlink href=#2-11、查询-至少有一门与学生ID为1的学生学习的课程相同的学生信息></a>2.11、查询 至少有一门与学生ID为1的学生学习的课程相同的学生信息</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br></pre><td class=code><pre><span class=line>select st.sid, st.sname</span><br><span class=line>from s1_student st</span><br><span class=line>join(</span><br><span class=line>	select DISTINCT s1.sid</span><br><span class=line>	from s1_score s1</span><br><span class=line>	where s1.sid != 1 and s1.cid in(</span><br><span class=line>		select s.cid</span><br><span class=line>		from s1_score s</span><br><span class=line>		where s.sid = 1</span><br><span class=line>	)</span><br><span class=line>)as ss1 on st.sid = ss1.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select distinct s.sid</span><br><span class=line>	from s1_score as s</span><br><span class=line>	where s.cid in (</span><br><span class=line>		select s.cid</span><br><span class=line>		from s1_score as s</span><br><span class=line>		where s.sid = 1</span><br><span class=line>	) and s.sid != 1</span><br><span class=line>) as o1 on st.sid = o1.sid</span><br></pre></table></figure><h2 id=2-12、查询-与学生ID为1的学生所学课程完全相同的学生信息><a title="2.12、查询 与学生ID为1的学生所学课程完全相同的学生信息" class=headerlink href=#2-12、查询-与学生ID为1的学生所学课程完全相同的学生信息></a>2.12、查询 与学生ID为1的学生所学课程完全相同的学生信息</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br></pre><td class=code><pre><span class=line>select st.*</span><br><span class=line>from s1_student st</span><br><span class=line>where st.sid in(</span><br><span class=line>	select ss1.sid</span><br><span class=line>	from(</span><br><span class=line>		select os.sid, os.cid</span><br><span class=line>		from s1_score os</span><br><span class=line>		where os.sid in(</span><br><span class=line>			select s.sid</span><br><span class=line>			from s1_score s</span><br><span class=line>			where s.sid != 1</span><br><span class=line>			group by s.sid</span><br><span class=line>			having count(*) = (select count(*) from s1_score where sid = 1)</span><br><span class=line>		)</span><br><span class=line>	) as ss1</span><br><span class=line>	group by ss1.sid</span><br><span class=line>	having sum(ss1.cid) = (</span><br><span class=line>		select sum(cid)</span><br><span class=line>		from s1_score</span><br><span class=line>		where sid = 1</span><br><span class=line>	)</span><br><span class=line>)</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select s.sid</span><br><span class=line>	from s1_score as s</span><br><span class=line>	join (</span><br><span class=line>		select cid</span><br><span class=line>		from s1_score</span><br><span class=line>		where sid = 1</span><br><span class=line>	) as o1 on s.cid = o1.cid and s.sid != 1</span><br><span class=line>	group by s.sid</span><br><span class=line>	having count(o1.cid) = (</span><br><span class=line>		select count(cid) from s1_score where sid = 1 group by sid </span><br><span class=line>	)</span><br><span class=line>) as o1 on st.sid = o1.sid</span><br></pre></table></figure><h2 id=2-13、查询没学过”张三”老师课程的学生姓名><a class=headerlink href=#2-13、查询没学过”张三”老师课程的学生姓名 title=2.13、查询没学过”张三”老师课程的学生姓名></a>2.13、查询没学过”张三”老师课程的学生姓名</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br></pre><td class=code><pre><span class=line>select st.sid, st.sname</span><br><span class=line>from s1_student st</span><br><span class=line>where st.sid not in(</span><br><span class=line>	select s.sid</span><br><span class=line>	from s1_score as s</span><br><span class=line>	where s.cid = (</span><br><span class=line>		select c.cid</span><br><span class=line>		from s1_course as c</span><br><span class=line>		where c.tid = (select tid from s1_teacher where tname = '张三')</span><br><span class=line>	)</span><br><span class=line>)</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>where st.sid not in (</span><br><span class=line>	select s.sid</span><br><span class=line>	from s1_score as s</span><br><span class=line>	where s.cid in (</span><br><span class=line>		select c.cid</span><br><span class=line>		from s1_course as c</span><br><span class=line>		where c.tid = (</span><br><span class=line>			select t.tid</span><br><span class=line>			from s1_teacher as t</span><br><span class=line>			where t.tname = "张三"</span><br><span class=line>		)</span><br><span class=line>	)</span><br><span class=line>)</span><br></pre></table></figure><h2 id=2-14、查询有两门及以上课程不及格的同学学号，姓名及其平均成绩><a class=headerlink href=#2-14、查询有两门及以上课程不及格的同学学号，姓名及其平均成绩 title=2.14、查询有两门及以上课程不及格的同学学号，姓名及其平均成绩></a>2.14、查询有两门及以上课程不及格的同学学号，姓名及其平均成绩</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br></pre><td class=code><pre><span class=line>select ost.sid, ost.sname, ss1.avg_score </span><br><span class=line>from s1_student ost</span><br><span class=line>join(</span><br><span class=line>	select os.sid, avg(os.score) as avg_score</span><br><span class=line>	from s1_score os</span><br><span class=line>	where os.sid in(</span><br><span class=line>		select s.sid</span><br><span class=line>		from s1_score as s</span><br><span class=line>		where s.score < 60</span><br><span class=line>		group by s.sid</span><br><span class=line>		having count(s.sid) >= 2</span><br><span class=line>	)</span><br><span class=line>	group by os.sid</span><br><span class=line>) as ss1 on ost.sid = ss1.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.*,</span><br><span class=line>	o2.score_avg as "平均成绩"</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select s2.sid, avg(s2.score) as "score_avg"</span><br><span class=line>	from s1_score as s2</span><br><span class=line>	where s2.sid in (</span><br><span class=line>		select o1.sid</span><br><span class=line>		from (</span><br><span class=line>			select *</span><br><span class=line>			from s1_score as s</span><br><span class=line>			where s.score < 60 </span><br><span class=line>		) as o1</span><br><span class=line>		group by o1.sid</span><br><span class=line>		having count(o1.cid) >= 2</span><br><span class=line>	)</span><br><span class=line>	group by s2.sid</span><br><span class=line>) as o2 on st.sid = o2.sid</span><br></pre></table></figure><h2 id=2-15、检索”-01-“课程分数小于-60，按分数降序排列的学生信息><a title="2.15、检索” 01 “课程分数小于 60，按分数降序排列的学生信息" class=headerlink href=#2-15、检索”-01-“课程分数小于-60，按分数降序排列的学生信息></a>2.15、检索” 01 “课程分数小于 60，按分数降序排列的学生信息</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br></pre><td class=code><pre><span class=line>select st.*, ss1.cid, ss1.score</span><br><span class=line>from s1_student st</span><br><span class=line>	join(</span><br><span class=line>		select s.sid, s.cid, s.score</span><br><span class=line>		from s1_score as s</span><br><span class=line>		where s.cid = 1 and s.score < 60</span><br><span class=line>		order by s.score desc</span><br><span class=line>	) as ss1 on st.sid = ss1.sid</span><br><span class=line>order by ss1.score desc</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select s.*</span><br><span class=line>from s1_score as s</span><br><span class=line>where s.cid = 1 and s.score < 60</span><br><span class=line>order by s.score desc</span><br></pre></table></figure><h2 id=2-16、按照平均成绩从高到低展示所有学生的所有课程的成绩以及平均成绩><a class=headerlink href=#2-16、按照平均成绩从高到低展示所有学生的所有课程的成绩以及平均成绩 title=2.16、按照平均成绩从高到低展示所有学生的所有课程的成绩以及平均成绩></a>2.16、按照平均成绩从高到低展示所有学生的所有课程的成绩以及平均成绩</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line>select st.*, c.cname, s.score, ss1.avg_score</span><br><span class=line>from s1_student as st</span><br><span class=line>	left join(</span><br><span class=line>		select sid, avg(score) as avg_score</span><br><span class=line>		from s1_score</span><br><span class=line>		group by sid</span><br><span class=line>	) as ss1 on st.sid = ss1.sid</span><br><span class=line>	left join s1_score as s on ss1.sid = s.sid</span><br><span class=line>	left join s1_course c on s.cid = c.cid</span><br><span class=line>order by ss1.avg_score desc</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select </span><br><span class=line>	st.*,</span><br><span class=line>	s2.cid,</span><br><span class=line>	s2.score,</span><br><span class=line>	o1.score_avg as "平均成绩"</span><br><span class=line>from s1_student as st</span><br><span class=line>left join (</span><br><span class=line>	select s.sid, avg(s.score) as "score_avg"</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid </span><br><span class=line>) as o1 on st.sid = o1.sid </span><br><span class=line>join s1_score as s2 on o1.sid = s2.sid</span><br><span class=line>join s1_course as c on s2.cid = c.cid</span><br><span class=line>order by o1.score_avg desc</span><br></pre></table></figure><h2 id=2-17、查询各科成绩最高分、最低分和平均分：-以如下形式显示：课程-ID，课程-name，最分，最低分，平均分，及格率，中等率，优良率，优秀率-及格为-60，中等为：70-80，优良为：80-90，优秀为：-90要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列><a title="2.17、查询各科成绩最高分、最低分和平均分： 以如下形式显示：课程 ID，课程 name，最分，最低分，平均分，及格率，中等率，优良率，优秀率 及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列" class=headerlink href=#2-17、查询各科成绩最高分、最低分和平均分：-以如下形式显示：课程-ID，课程-name，最分，最低分，平均分，及格率，中等率，优良率，优秀率-及格为-60，中等为：70-80，优良为：80-90，优秀为：-90要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列></a>2.17、查询各科成绩最高分、最低分和平均分： 以如下形式显示：课程 ID，课程 name，最分，最低分，平均分，及格率，中等率，优良率，优秀率 及格为>=60，中等为：70-80，优良为：80-90，优秀为：>=90要求输出课程号和选修人数，查询结果按人数降序排列，若人数相同，按课程号升序排列</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br></pre><td class=code><pre><span class=line>select s.cid, c.cname,</span><br><span class=line>			max(s.score) as '最高分',</span><br><span class=line>			min(s.score) as '最低分',</span><br><span class=line>			avg(s.score) as '平均分',</span><br><span class=line>			concat(round(sum(if(s.score >= 60, 1, 0)) * 100 / count(s.score), 2), "%") as '及格率',</span><br><span class=line>			concat(round(sum(if(s.score >= 70, 1, 0)) * 100 / count(s.score), 2), "%") as '中等率',</span><br><span class=line>			concat(round(sum(if(s.score >= 80, 1, 0)) * 100 / count(s.score), 2), "%") as '优良率',</span><br><span class=line>			concat(round(sum(if(s.score >= 90, 1, 0)) * 100 / count(s.score), 2), "%") as '优秀率',</span><br><span class=line>			count(s.score) as '人数'</span><br><span class=line>from s1_score as s</span><br><span class=line>join s1_course c on s.cid = c.cid</span><br><span class=line>group by s.cid, c.cname</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	s.cid,</span><br><span class=line>	c.cname,</span><br><span class=line>	max(s.score) as "最高分",</span><br><span class=line>	min(s.score) as "最低分",</span><br><span class=line>	avg(s.score) as "平均分",</span><br><span class=line>	CONCAT(ROUND(SUM(IF(s.score >= 60, 1, 0)) * 100 / COUNT(s.score), 2), "%") as "及格率",</span><br><span class=line>	CONCAT(ROUND(SUM(IF(s.score >= 70 and s.score < 80, 1, 0)) * 100 / COUNT(s.score), 2), "%") as "中等率",</span><br><span class=line>	CONCAT(ROUND(SUM(IF(s.score >= 80 and s.score < 90, 1, 0)) * 100 / COUNT(s.score), 2), "%") as "优良率",</span><br><span class=line>	CONCAT(ROUND(SUM(IF(s.score >= 90, 1, 0)) * 100 / COUNT(s.score), 2), "%") as "优秀率",</span><br><span class=line>	count(s.sid) as "人数"</span><br><span class=line>from s1_score as s</span><br><span class=line>join s1_course as c on s.cid = c.cid</span><br><span class=line>group by s.cid, c.cname</span><br><span class=line>order by "人数" desc, s.cid asc</span><br></pre></table></figure><h2 id=2-18、按各科平均成绩进行排序，并显示排名><a class=headerlink href=#2-18、按各科平均成绩进行排序，并显示排名 title=2.18、按各科平均成绩进行排序，并显示排名></a>2.18、按各科平均成绩进行排序，并显示排名</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br></pre><td class=code><pre><span class=line>set @i:=0;</span><br><span class=line>select ss1.cid, ss1.avg_score, @i:=@i + 1 as '名次'</span><br><span class=line>from (</span><br><span class=line>	select s.cid, avg(s.score) as avg_score</span><br><span class=line>	from s1_score s</span><br><span class=line>	group by s.cid</span><br><span class=line>	order by avg_score desc</span><br><span class=line>) as ss1</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>set @i:=0;</span><br><span class=line>select </span><br><span class=line>	o1.cid,</span><br><span class=line>	o1.score_avg as "平均成绩",</span><br><span class=line>	@i := @i + 1 as "排名"</span><br><span class=line>from (</span><br><span class=line>	select s.cid, avg(s.score) as "score_avg"</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.cid</span><br><span class=line>	order by score_avg desc</span><br><span class=line>) as o1</span><br></pre></table></figure><h2 id=2-19、按各科平均成绩进行排序，并显示排名，重复时不保留名次空缺><a class=headerlink href=#2-19、按各科平均成绩进行排序，并显示排名，重复时不保留名次空缺 title=2.19、按各科平均成绩进行排序，并显示排名，重复时不保留名次空缺></a>2.19、按各科平均成绩进行排序，并显示排名，重复时不保留名次空缺</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br></pre><td class=code><pre><span class=line>set @a:=0;</span><br><span class=line>select ss1.cid, ss1.avg_score, @a:=@a+1 as '排名'</span><br><span class=line>from (</span><br><span class=line>	select s.cid, avg(s.score) as avg_score</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.cid</span><br><span class=line>) as ss1</span><br><span class=line></span><br><span class=line># rank函数：1、2、3、3、5、6</span><br><span class=line>select </span><br><span class=line>	rank() over (order by s.score desc) as s_rank,</span><br><span class=line>	s.sid,</span><br><span class=line>	s.cid,</span><br><span class=line>	s.score</span><br><span class=line>from s1_score s</span><br><span class=line></span><br><span class=line># dense_rank函数：1、2、3、3、4、5</span><br><span class=line>select </span><br><span class=line>	dense_rank() over (order by s.score desc) as s_dense_rank,</span><br><span class=line>	s.sid,</span><br><span class=line>	s.cid,</span><br><span class=line>	s.score</span><br><span class=line>from s1_score s</span><br><span class=line></span><br><span class=line># row_numver函数：1、2、3、4、5、6</span><br><span class=line>select </span><br><span class=line>	row_number() over (order by s.score desc) as s_row_number,</span><br><span class=line>	s.sid,</span><br><span class=line>	s.cid,</span><br><span class=line>	s.score</span><br><span class=line>from s1_score s</span><br></pre></table></figure><h2 id=2-20、查询学生的总成绩，并进行排名，总分重复时保留名次空缺><a class=headerlink href=#2-20、查询学生的总成绩，并进行排名，总分重复时保留名次空缺 title=2.20、查询学生的总成绩，并进行排名，总分重复时保留名次空缺></a>2.20、查询学生的总成绩，并进行排名，总分重复时保留名次空缺</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br></pre><td class=code><pre><span class=line>set @i := 0;</span><br><span class=line>set @j := 0;</span><br><span class=line>set @p := 0;</span><br><span class=line>set @q := 0;</span><br><span class=line>select </span><br><span class=line>	ss1.sid,</span><br><span class=line>	ss1.sum_score as '总分',</span><br><span class=line>	@j := @j + 1,</span><br><span class=line>	@p := ss1.sum_score,</span><br><span class=line>	if(@p = @q, @j, @i := @j) as '排名',</span><br><span class=line>	@q := @p</span><br><span class=line>from (</span><br><span class=line>	select sid, sum(score) as sum_score</span><br><span class=line>	from s1_score</span><br><span class=line>	group by sid</span><br><span class=line>	order by sum_score desc</span><br><span class=line>) as ss1</span><br><span class=line></span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select </span><br><span class=line>	dense_rank() over(order by ss1.sum_score desc) as '排名',</span><br><span class=line>	ss1.sid,</span><br><span class=line>	ss1.sum_score</span><br><span class=line>from (</span><br><span class=line>	select s.sid, sum(s.score) as sum_score</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid</span><br><span class=line>) as ss1</span><br><span class=line></span><br><span class=line></span><br><span class=line># 解法3</span><br><span class=line>set @p:=0;</span><br><span class=line>set @q:=0;</span><br><span class=line>set @i:=0;</span><br><span class=line>select</span><br><span class=line>	o1.sid, </span><br><span class=line>	o1.score_sum,</span><br><span class=line>	@p:=o1.score_sum,</span><br><span class=line>	IF(@p=@q, @i, @i:=@i+1) as "名次",</span><br><span class=line>	@q:=@p</span><br><span class=line>from (</span><br><span class=line>	select</span><br><span class=line>		s.sid,</span><br><span class=line>		sum(s.score) as "score_sum"</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid</span><br><span class=line>	order by score_sum desc</span><br><span class=line>) as o1</span><br></pre></table></figure><h2 id=2-21、查询学生的总成绩，并进行排名，总分重复时不保留名次空缺><a class=headerlink href=#2-21、查询学生的总成绩，并进行排名，总分重复时不保留名次空缺 title=2.21、查询学生的总成绩，并进行排名，总分重复时不保留名次空缺></a>2.21、查询学生的总成绩，并进行排名，总分重复时不保留名次空缺</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br></pre><td class=code><pre><span class=line>set @p:=0;</span><br><span class=line>set @q:=0;</span><br><span class=line>set @i:=0;</span><br><span class=line>select</span><br><span class=line>	o1.sid, </span><br><span class=line>	o1.score_sum,</span><br><span class=line>	@p:=o1.score_sum,</span><br><span class=line>	IF(@p=@q, @i, @i:=@i+1) as "名次",</span><br><span class=line>	@q:=@p</span><br><span class=line>from (</span><br><span class=line>	select</span><br><span class=line>		s.sid,</span><br><span class=line>		sum(s.score) as "score_sum"</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid</span><br><span class=line>	order by score_sum desc</span><br><span class=line>) as o1</span><br></pre></table></figure><h2 id=2-22、统计各科成绩各分数段人数：课程编号，课程名称，-100-85），-85-70），-70-60），-60-0）及所占百分。><a class=headerlink href=#2-22、统计各科成绩各分数段人数：课程编号，课程名称，-100-85），-85-70），-70-60），-60-0）及所占百分。 title=2.22、统计各科成绩各分数段人数：课程编号，课程名称，[100-85），[85-70），[70-60），[60-0）及所占百分。></a>2.22、统计各科成绩各分数段人数：课程编号，课程名称，[100-85），[85-70），[70-60），[60-0）及所占百分。</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	s.cid,</span><br><span class=line>	c.cname,</span><br><span class=line>	CONCAT(ROUND(SUM(IF(score <= 100 and score > 85, 1, 0)) * 100 / COUNT(s.sid), 2), "%") as "[100, 85)",</span><br><span class=line>	CONCAT(ROUND(SUM(IF(score <= 85 and score > 70, 1, 0)) * 100 / COUNT(s.sid), 2), "%") as "[85, 70)",</span><br><span class=line>	CONCAT(ROUND(SUM(IF(score <= 70 and score > 60, 1, 0)) * 100 / COUNT(s.sid), 2), "%") as "[70, 60)",</span><br><span class=line>	CONCAT(ROUND(SUM(IF(score <= 60 and score > 0, 1, 0)) * 100 / COUNT(s.sid), 2), "%") as "[60, 0)"</span><br><span class=line>from s1_score as s</span><br><span class=line>join s1_course as c on s.cid = c.cid</span><br><span class=line>group by s.cid, c.cname</span><br></pre></table></figure><h2 id=2-23、查询各科成绩前三名的记录><a class=headerlink href=#2-23、查询各科成绩前三名的记录 title=2.23、查询各科成绩前三名的记录></a>2.23、查询各科成绩前三名的记录</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br></pre><td class=code><pre><span class=line>set @i := 0;</span><br><span class=line>set @p := 0;</span><br><span class=line>set @q := 0;</span><br><span class=line>select</span><br><span class=line>	o2.sid,</span><br><span class=line>	st.sname,</span><br><span class=line>	o2.cid,</span><br><span class=line>	o2.score,</span><br><span class=line>	o2.rn</span><br><span class=line>from (</span><br><span class=line>	select</span><br><span class=line>		o1.sid,</span><br><span class=line>		o1.cid,</span><br><span class=line>		o1.score,</span><br><span class=line>		@p := o1.cid,</span><br><span class=line>		IF(@p = @q, @i := @i + 1, @i := 1) as rn,</span><br><span class=line>		@q := @p</span><br><span class=line>	from (</span><br><span class=line>		select s.sid, s.cid, s.score</span><br><span class=line>		from s1_score s</span><br><span class=line>		order by s.cid asc, s.score desc</span><br><span class=line>	) as o1</span><br><span class=line>) as o2 </span><br><span class=line>	join s1_student st on o2.sid = st.sid and o2.rn <=3</span><br><span class=line>order by cid, rn</span><br><span class=line></span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>set @p:=0;</span><br><span class=line>set @q:=0;</span><br><span class=line>set @i:=0;</span><br><span class=line>select</span><br><span class=line>	o1.sid,</span><br><span class=line>	o1.cid,</span><br><span class=line>	o1.score,</span><br><span class=line>	o1.score_level as "名次"</span><br><span class=line>from (</span><br><span class=line>	select</span><br><span class=line>		s.*,</span><br><span class=line>		@p:=s.cid,</span><br><span class=line>		IF(@p=@q, @i:=@i+1, @i:=1) as "score_level",</span><br><span class=line>		@q:=@p</span><br><span class=line>	from s1_score as s</span><br><span class=line>	order by s.cid asc, s.score desc</span><br><span class=line>) as o1</span><br><span class=line>where o1.score_level < 4</span><br></pre></table></figure><h2 id=2-24、查询每门课程被选修的学生数><a class=headerlink href=#2-24、查询每门课程被选修的学生数 title=2.24、查询每门课程被选修的学生数></a>2.24、查询每门课程被选修的学生数</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br></pre><td class=code><pre><span class=line>select c.cid, c.cname, o1.count_st as "学生数量"</span><br><span class=line>from s1_course c</span><br><span class=line>join (</span><br><span class=line>	select</span><br><span class=line>		s.cid,</span><br><span class=line>		count(s.sid) as count_st</span><br><span class=line>	from s1_score s</span><br><span class=line>	group by s.cid</span><br><span class=line>) as o1 on c.cid = o1.cid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	c.cname,</span><br><span class=line>	o1.s_count as "人数"</span><br><span class=line>from s1_course as c</span><br><span class=line>join (</span><br><span class=line>	select</span><br><span class=line>		s.cid,</span><br><span class=line>		count(s.sid) as "s_count"</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.cid</span><br><span class=line>) as o1 on c.cid = o1.cid</span><br></pre></table></figure><h2 id=2-25、查询出只选修两门课程的学生学号和姓名><a class=headerlink href=#2-25、查询出只选修两门课程的学生学号和姓名 title=2.25、查询出只选修两门课程的学生学号和姓名></a>2.25、查询出只选修两门课程的学生学号和姓名</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br></pre><td class=code><pre><span class=line>select st.sid, st.sname</span><br><span class=line>from s1_student as st</span><br><span class=line>	join (</span><br><span class=line>		select s.sid, count(s.cid) as count_cid</span><br><span class=line>		from s1_score s</span><br><span class=line>		group by s.sid</span><br><span class=line>		having count_cid = 2</span><br><span class=line>	) as o1 on st.sid = o1.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.sid,</span><br><span class=line>	st.sname</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select s.sid, count(s.cid) as "c_count"</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid</span><br><span class=line>	having c_count = 2</span><br><span class=line>) as o1 on st.sid = o1.sid</span><br></pre></table></figure><h2 id=2-26、查询男生、女生人数><a class=headerlink href=#2-26、查询男生、女生人数 title=2.26、查询男生、女生人数></a>2.26、查询男生、女生人数</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br></pre><td class=code><pre><span class=line>select st.sex, count(st.sid) as "人数"</span><br><span class=line>from s1_student st</span><br><span class=line>group by st.sex</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.sex,</span><br><span class=line>	count(st.sid) as "人数"</span><br><span class=line>from s1_student as st</span><br><span class=line>group by st.sex</span><br></pre></table></figure><h2 id=2-27、查询名字中含有「风」字的学生信息><a class=headerlink href=#2-27、查询名字中含有「风」字的学生信息 title=2.27、查询名字中含有「风」字的学生信息></a>2.27、查询名字中含有「风」字的学生信息</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line>select st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>where st.sname like "%风%";</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>where st.sname like "%风%";</span><br></pre></table></figure><h2 id=2-28、查询同名同性学生名单，并统计同名同性人数><a class=headerlink href=#2-28、查询同名同性学生名单，并统计同名同性人数 title=2.28、查询同名同性学生名单，并统计同名同性人数></a>2.28、查询同名同性学生名单，并统计同名同性人数</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre><td class=code><pre><span class=line>select st.sname, st.sex, count(st.sid) as count_sid</span><br><span class=line>from s1_student as st</span><br><span class=line>group by st.sname, st.sex</span><br><span class=line>having count_sid > 1</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.sname,</span><br><span class=line>	count(st.sid) as "s_count"</span><br><span class=line>from s1_student as st</span><br><span class=line>group by st.sname</span><br><span class=line>having s_count > 1</span><br></pre></table></figure><h2 id=2-29、查询-1990-年出生的学生名单><a title="2.29、查询 1990 年出生的学生名单" class=headerlink href=#2-29、查询-1990-年出生的学生名单></a>2.29、查询 1990 年出生的学生名单</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br></pre><td class=code><pre><span class=line>set @c := 0;</span><br><span class=line>select </span><br><span class=line>	o1.sid,</span><br><span class=line>	o1.sname,</span><br><span class=line>	o1.age,</span><br><span class=line>	o1.sex</span><br><span class=line>from (</span><br><span class=line>	select </span><br><span class=line>		st.sid,</span><br><span class=line>		st.sname,</span><br><span class=line>		st.age,</span><br><span class=line>		st.sex,</span><br><span class=line>		@c := st.age,</span><br><span class=line>		IF(@c = (2023 - 1990), 1, 0) as is90</span><br><span class=line>	from s1_student as st</span><br><span class=line>) as o1</span><br><span class=line>where o1.is90 = 1</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>where st.birth like "1990%"</span><br><span class=line></span><br><span class=line># 解法3</span><br><span class=line>select st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>where EXTRACT(year from st.birth) = 1990</span><br></pre></table></figure><h2 id=2-30、查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列><a class=headerlink href=#2-30、查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列 title=2.30、查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列></a>2.30、查询每门课程的平均成绩，结果按平均成绩降序排列，平均成绩相同时，按课程编号升序排列</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre><td class=code><pre><span class=line>select s.cid, avg(s.score) as avg_score</span><br><span class=line>from s1_score s</span><br><span class=line>group by s.cid</span><br><span class=line>order by avg_score desc, cid asc</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	s.cid,</span><br><span class=line>	avg(s.score) as "score_avg"</span><br><span class=line>from s1_score as s</span><br><span class=line>group by s.cid</span><br><span class=line>order by score_avg desc, s.cid asc</span><br></pre></table></figure><h2 id=2-31、查询平均成绩大于等于-85-的所有学生的学号、姓名和平均成绩><a title="2.31、查询平均成绩大于等于 85 的所有学生的学号、姓名和平均成绩" class=headerlink href=#2-31、查询平均成绩大于等于-85-的所有学生的学号、姓名和平均成绩></a>2.31、查询平均成绩大于等于 85 的所有学生的学号、姓名和平均成绩</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br></pre><td class=code><pre><span class=line>select st.sid, st.sname, o1.avg_score as "平均成绩"</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select s.sid, avg(s.score) as avg_score</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid</span><br><span class=line>	having avg_score >= 85</span><br><span class=line>) as o1 on st.sid = o1.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.sid,</span><br><span class=line>	st.sname,</span><br><span class=line>	o1.score_avg as "平均成绩"</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select</span><br><span class=line>		s.sid,</span><br><span class=line>		avg(s.score) as score_avg</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid</span><br><span class=line>	having score_avg >= 85</span><br><span class=line>) as o1 on st.sid = o1.sid</span><br></pre></table></figure><h2 id=2-32、查询课程名称为「数学」，且分数低于-60-的学生姓名和分数><a title="2.32、查询课程名称为「数学」，且分数低于 60 的学生姓名和分数" class=headerlink href=#2-32、查询课程名称为「数学」，且分数低于-60-的学生姓名和分数></a>2.32、查询课程名称为「数学」，且分数低于 60 的学生姓名和分数</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br></pre><td class=code><pre><span class=line>select st.sname, c.cname, s.score</span><br><span class=line>from s1_course as c</span><br><span class=line>join s1_score as s on c.cid = s.cid</span><br><span class=line>join s1_student as st on s.sid = st.sid</span><br><span class=line>where c.cname = "数学" and s.score < 60</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.sname,</span><br><span class=line>	o1.score</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select s.sid, s.score</span><br><span class=line>	from s1_score as s</span><br><span class=line>	where s.score < 60 and s.cid = (</span><br><span class=line>		select cid from s1_course where cname = "数学"</span><br><span class=line>	)</span><br><span class=line>) as o1 on st.sid = o1.sid</span><br></pre></table></figure><h2 id=2-33、查询所有学生的课程及分数情况（存在学生没成绩，没选课的情况）><a class=headerlink href=#2-33、查询所有学生的课程及分数情况（存在学生没成绩，没选课的情况） title=2.33、查询所有学生的课程及分数情况（存在学生没成绩，没选课的情况）></a>2.33、查询所有学生的课程及分数情况（存在学生没成绩，没选课的情况）</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	st.sname,</span><br><span class=line>	o1.语文成绩, </span><br><span class=line>	o1.数学成绩,</span><br><span class=line>	o1.英语成绩 </span><br><span class=line>from s1_student as st</span><br><span class=line>left join (</span><br><span class=line>	select </span><br><span class=line>		s.sid,</span><br><span class=line>		SUM(CASE s.cid when 1 then s.score else 0 end) as "数学成绩",</span><br><span class=line>		SUM(CASE s.cid when 2 then s.score else 0 end) as "语文成绩",</span><br><span class=line>		SUM(CASE s.cid when 3 then s.score else 0 end) as "英语成绩"</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid</span><br><span class=line>) as o1 on st.sid = o1.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.sid,</span><br><span class=line>	st.sname,</span><br><span class=line>	o1.语文成绩,</span><br><span class=line>	o1.数学成绩,</span><br><span class=line>	o1.英语成绩</span><br><span class=line>from s1_student as st</span><br><span class=line>left join (</span><br><span class=line>	select</span><br><span class=line>		s.sid,</span><br><span class=line>		SUM(case s.cid when 2 then score else 0 end) as "语文成绩",</span><br><span class=line>		SUM(case s.cid when 1 then score else 0 end) as "数学成绩",</span><br><span class=line>		SUM(case s.cid when 3 then score else 0 end) as "英语成绩"</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid</span><br><span class=line>) as o1 on st.sid = o1.sid</span><br></pre></table></figure><h2 id=2-34、查询任何一门课程成绩在-70-分以上的姓名、课程名称和分数><a title="2.34、查询任何一门课程成绩在 70 分以上的姓名、课程名称和分数" class=headerlink href=#2-34、查询任何一门课程成绩在-70-分以上的姓名、课程名称和分数></a>2.34、查询任何一门课程成绩在 70 分以上的姓名、课程名称和分数</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	o1.sid,</span><br><span class=line>	SUM(case s.cid when 2 then s.score else 0 end) as "语文成绩",</span><br><span class=line>	SUM(case s.cid when 1 then s.score else 0 end) as "数学成绩",</span><br><span class=line>	SUM(case s.cid when 3 then s.score else 0 end) as "英语成绩"</span><br><span class=line>from (</span><br><span class=line>	select o1.sid</span><br><span class=line>	from (</span><br><span class=line>		select s.*</span><br><span class=line>		from s1_score as s</span><br><span class=line>		where s.score > 70</span><br><span class=line>	) as o1</span><br><span class=line>	group by o1.sid</span><br><span class=line>	having count(o1.cid) = (select count(cid) from s1_course)</span><br><span class=line>) as o1 </span><br><span class=line>	join s1_student as st on o1.sid = st.sid</span><br><span class=line>	join s1_score as s on st.sid = s.sid</span><br><span class=line>	join s1_course as c on s.cid = c.cid</span><br><span class=line>group by o1.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select st.sname, c.cname, o1.score</span><br><span class=line>from (</span><br><span class=line>	select s.sid, s.cid, s.score</span><br><span class=line>	from s1_score as s</span><br><span class=line>	where s.score > 70</span><br><span class=line>) as o1 </span><br><span class=line>	join s1_student as st on o1.sid = st.sid</span><br><span class=line>	join s1_course as c on o1.cid = c.cid</span><br><span class=line></span><br><span class=line># 解法3</span><br><span class=line>select</span><br><span class=line>	st.sname,</span><br><span class=line>	c.cname,</span><br><span class=line>	o1.score</span><br><span class=line>from s1_course as c</span><br><span class=line>join (</span><br><span class=line>	select s.sid, s.cid, s.score</span><br><span class=line>	from s1_score as s</span><br><span class=line>	where s.score > 70</span><br><span class=line>) as o1 on c.cid = o1.cid</span><br><span class=line>join s1_student as st on o1.sid = st.sid</span><br></pre></table></figure><h2 id=2-35、查询不及格的课程><a class=headerlink href=#2-35、查询不及格的课程 title=2.35、查询不及格的课程></a>2.35、查询不及格的课程</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br></pre><td class=code><pre><span class=line>select</span><br><span class=line>	st.sname,</span><br><span class=line>	c.cname,</span><br><span class=line>	o1.score</span><br><span class=line>from (</span><br><span class=line>	select s.sid, s.cid, s.score</span><br><span class=line>	from s1_score as s</span><br><span class=line>	where s.score < 60</span><br><span class=line>)as o1</span><br><span class=line>	join s1_student as st on o1.sid = st.sid</span><br><span class=line>	join s1_course as c on o1.cid = c.cid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	o1.sid,</span><br><span class=line>	c.cname,</span><br><span class=line>	o1.score</span><br><span class=line>from s1_course as c</span><br><span class=line>join (</span><br><span class=line>	select s.*</span><br><span class=line>	from s1_score as s</span><br><span class=line>	where s.score < 60</span><br><span class=line>) as o1 on c.cid = o1.cid</span><br></pre></table></figure><h2 id=2-36、查询课程编号为-01-且课程成绩在-80-分以上的学生的学号和姓名><a title="2.36、查询课程编号为 01 且课程成绩在 80 分以上的学生的学号和姓名" class=headerlink href=#2-36、查询课程编号为-01-且课程成绩在-80-分以上的学生的学号和姓名></a>2.36、查询课程编号为 01 且课程成绩在 80 分以上的学生的学号和姓名</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br></pre><td class=code><pre><span class=line>select st.sid, st.sname</span><br><span class=line>from s1_student as st</span><br><span class=line>	join (</span><br><span class=line>		select s.sid</span><br><span class=line>		from s1_score as s</span><br><span class=line>		where s.cid = 1 and s.score >= 80</span><br><span class=line>	) as o1 on st.sid = o1.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.sid,</span><br><span class=line>	st.sname,</span><br><span class=line>	o1.score</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select s.sid, s.score</span><br><span class=line>	from s1_score as s</span><br><span class=line>	where s.cid = 1 and s.score > 80</span><br><span class=line>) as o1 on st.sid = o1.sid</span><br></pre></table></figure><h2 id=2-37、求每门课程的学生人数><a class=headerlink href=#2-37、求每门课程的学生人数 title=2.37、求每门课程的学生人数></a>2.37、求每门课程的学生人数</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br></pre><td class=code><pre><span class=line>select s.cid, count(s.sid) as "人数"</span><br><span class=line>from s1_score as s</span><br><span class=line>group by s.cid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	c.cname,</span><br><span class=line>	o1.s_count as "人数"</span><br><span class=line>from s1_course as c</span><br><span class=line>join (</span><br><span class=line>	select</span><br><span class=line>		s.cid,</span><br><span class=line>		count(s.sid) as "s_count"</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.cid </span><br><span class=line>) as o1 on c.cid = o1.cid</span><br></pre></table></figure><h2 id=2-38、成绩不重复，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩><a class=headerlink href=#2-38、成绩不重复，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩 title=2.38、成绩不重复，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩></a>2.38、成绩不重复，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	st.sid,</span><br><span class=line>	st.sname, </span><br><span class=line>	o1.score</span><br><span class=line>from (</span><br><span class=line>	select s.sid, s.cid, s.score</span><br><span class=line>	from s1_score as s</span><br><span class=line>	where s.cid in (</span><br><span class=line>		select c.cid</span><br><span class=line>		from s1_course as c </span><br><span class=line>		where c.tid = (</span><br><span class=line>			select t.tid from s1_teacher as t where t.tname = "张三"</span><br><span class=line>		)</span><br><span class=line>	)</span><br><span class=line>	order by s.score desc</span><br><span class=line>	limit 1</span><br><span class=line>) as o1 </span><br><span class=line>	join s1_student as st on o1.sid = st.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.*,</span><br><span class=line>	o2.score</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select o1.*</span><br><span class=line>	from (</span><br><span class=line>		select s.*</span><br><span class=line>		from s1_score as s</span><br><span class=line>		where s.cid in (</span><br><span class=line>			select c.cid</span><br><span class=line>			from s1_course as c</span><br><span class=line>			where c.tid = (</span><br><span class=line>				select t.tid</span><br><span class=line>				from s1_teacher as t</span><br><span class=line>				where t.tname = "张三"</span><br><span class=line>			)</span><br><span class=line>		)</span><br><span class=line>	) as o1</span><br><span class=line>	order by o1.score desc</span><br><span class=line>	limit 0, 1</span><br><span class=line>) as o2 on st.sid = o2.sid</span><br></pre></table></figure><h2 id=2-39、成绩有重复的情况下，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩><a class=headerlink href=#2-39、成绩有重复的情况下，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩 title=2.39、成绩有重复的情况下，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩></a>2.39、成绩有重复的情况下，查询选修「张三」老师所授课程的学生中，成绩最高的学生信息及其成绩</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br></pre><td class=code><pre><span class=line>set @i := 0;</span><br><span class=line>set @p := 0;</span><br><span class=line>set @q := 0;</span><br><span class=line>select </span><br><span class=line>	st.sname,</span><br><span class=line>	o2.sid,</span><br><span class=line>	o2.cid,</span><br><span class=line>	o2.score</span><br><span class=line>from (</span><br><span class=line>	select </span><br><span class=line>		o1.sid,</span><br><span class=line>		o1.cid,</span><br><span class=line>		o1.score,</span><br><span class=line>		@p := o1.score,</span><br><span class=line>		IF(@p = @q, @i, @i :=@i + 1) as paix,</span><br><span class=line>		@q := @p</span><br><span class=line>	from (</span><br><span class=line>		select s.sid, s.cid, s.score</span><br><span class=line>		from s1_score as s </span><br><span class=line>		where s.cid in (</span><br><span class=line>			select c.cid</span><br><span class=line>			from s1_course as c</span><br><span class=line>			where c.tid = (</span><br><span class=line>				select t.tid</span><br><span class=line>				from s1_teacher as t </span><br><span class=line>				where t.tname = "张三"</span><br><span class=line>			)</span><br><span class=line>		)</span><br><span class=line>		order by s.score desc</span><br><span class=line>	) as o1</span><br><span class=line>) as o2</span><br><span class=line>join s1_student as st on o2.sid = st.sid and o2.paix = 1</span><br><span class=line></span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>set @p:=0;</span><br><span class=line>set @q:=0;</span><br><span class=line>set @i:=0;</span><br><span class=line>select</span><br><span class=line>	st.*,</span><br><span class=line>	o3.score</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select o2.*</span><br><span class=line>	from (</span><br><span class=line>		select</span><br><span class=line>			o1.sid,</span><br><span class=line>			o1.score,</span><br><span class=line>			@p:=o1.score,</span><br><span class=line>			IF(@p=@q, @i, @i:=@i+1) as "score_level",</span><br><span class=line>			@q=@p</span><br><span class=line>		from (</span><br><span class=line>			select s.*</span><br><span class=line>			from s1_score as s</span><br><span class=line>			where s.cid in (</span><br><span class=line>				select c.cid</span><br><span class=line>				from s1_course as c</span><br><span class=line>				where c.tid = (</span><br><span class=line>					select t.tid</span><br><span class=line>					from s1_teacher as t</span><br><span class=line>					where t.tname = "张三"</span><br><span class=line>				)</span><br><span class=line>			)</span><br><span class=line>			order by s.score desc</span><br><span class=line>		) as o1</span><br><span class=line>	) as o2 </span><br><span class=line>	where o2.score_level = 1</span><br><span class=line>) as o3 on st .sid = o3.sid</span><br></pre></table></figure><h2 id=2-40、查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩><a class=headerlink href=#2-40、查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩 title=2.40、查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩></a>2.40、查询不同课程成绩相同的学生的学生编号、课程编号、学生成绩</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	st.sname,</span><br><span class=line>	s.cid,</span><br><span class=line>	s.score</span><br><span class=line>from s1_score as s</span><br><span class=line>	join s1_score as s2 on s.score = s2.score and s.cid != s2.cid</span><br><span class=line>	join s1_student as st on s2.sid = st.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select distinct</span><br><span class=line>	s.sid,</span><br><span class=line>	s.cid,</span><br><span class=line>	s.score</span><br><span class=line>from s1_score as s</span><br><span class=line>join (</span><br><span class=line>	select * from s1_score</span><br><span class=line>) as o1 on s.score = o1.score and s.cid != o1.cid</span><br></pre></table></figure><h2 id=2-41、查询每门课程成绩最好的前两名><a class=headerlink href=#2-41、查询每门课程成绩最好的前两名 title=2.41、查询每门课程成绩最好的前两名></a>2.41、查询每门课程成绩最好的前两名</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br></pre><td class=code><pre><span class=line>set @p := 0;</span><br><span class=line>set @q := 0;</span><br><span class=line>set @i := 0;</span><br><span class=line>select </span><br><span class=line>	o1.sid,</span><br><span class=line>	st.sname,</span><br><span class=line>	o1.cid,</span><br><span class=line>	o1.score</span><br><span class=line>from (</span><br><span class=line>	select </span><br><span class=line>		s.sid,</span><br><span class=line>		s.cid,</span><br><span class=line>		s.score,</span><br><span class=line>		@p := s.cid,</span><br><span class=line>		IF(@p = @q, @i := @i + 1, @i := 1) as px,</span><br><span class=line>		@q:=@p</span><br><span class=line>	from s1_score as s</span><br><span class=line>	order by s.cid asc, s.score desc</span><br><span class=line>) as o1</span><br><span class=line>	join s1_student as st on o1.sid = st.sid and o1.px < 3</span><br><span class=line>order by o1.cid, o1.px</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	o2.sid,</span><br><span class=line>	o2.cid,</span><br><span class=line>	o2.score,</span><br><span class=line>	o2.score_level as "名次"</span><br><span class=line>from (</span><br><span class=line>	select</span><br><span class=line>		o1.sid,</span><br><span class=line>		o1.cid,</span><br><span class=line>		o1.score,</span><br><span class=line>		@p:=o1.cid,</span><br><span class=line>		IF(@p=@q, @i:=@i+1, @i:=1) as "score_level",</span><br><span class=line>		@q:=@p</span><br><span class=line>	from (</span><br><span class=line>		select *</span><br><span class=line>		from s1_score</span><br><span class=line>		order by cid asc, score desc</span><br><span class=line>	) as o1</span><br><span class=line>) as o2</span><br><span class=line>where o2.score_level < 3</span><br></pre></table></figure><h2 id=2-42、统计每门课程的学生选修人数（超过-5-人的课程才统计）。><a title="2.42、统计每门课程的学生选修人数（超过 5 人的课程才统计）。" class=headerlink href=#2-42、统计每门课程的学生选修人数（超过-5-人的课程才统计）。></a>2.42、统计每门课程的学生选修人数（超过 5 人的课程才统计）。</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	s.cid,</span><br><span class=line>	count(s.sid) as count_st</span><br><span class=line>from s1_score as s</span><br><span class=line>group by s.cid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	s.cid,</span><br><span class=line>	count(s.sid) as s_count </span><br><span class=line>from s1_score as s</span><br><span class=line>group by s.cid</span><br><span class=line>having s_count > 5</span><br></pre></table></figure><h2 id=2-43、检索至少选修两门课程的学生学号><a class=headerlink href=#2-43、检索至少选修两门课程的学生学号 title=2.43、检索至少选修两门课程的学生学号></a>2.43、检索至少选修两门课程的学生学号</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	s.sid</span><br><span class=line>from s1_score as s</span><br><span class=line>group by s.sid</span><br><span class=line>having count(s.cid) >= 2</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	s.sid,</span><br><span class=line>	count(s.cid) as "c_count"</span><br><span class=line>from s1_score as s</span><br><span class=line>group by s.sid</span><br><span class=line>having c_count > 1</span><br></pre></table></figure><h2 id=2-44、查询选修了全部课程的学生信息><a class=headerlink href=#2-44、查询选修了全部课程的学生信息 title=2.44、查询选修了全部课程的学生信息></a>2.44、查询选修了全部课程的学生信息</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	st.sid,</span><br><span class=line>	st.sname,</span><br><span class=line>	st.age,</span><br><span class=line>	st.sex</span><br><span class=line>from (</span><br><span class=line>	select s.sid</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid</span><br><span class=line>	having count(s.cid) = (</span><br><span class=line>		select count(cid) from s1_course </span><br><span class=line>	)</span><br><span class=line>)as o1</span><br><span class=line>	join s1_student as st on o1.sid = st.sid</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>join (</span><br><span class=line>	select s.sid</span><br><span class=line>	from s1_score as s</span><br><span class=line>	group by s.sid</span><br><span class=line>	having count(s.cid) = (</span><br><span class=line>		select count(cid) from s1_course</span><br><span class=line>	)</span><br><span class=line>) as o1 on st.sid = o1.sid</span><br></pre></table></figure><h2 id=2-45、查询各学生的年龄，只按年份来算><a class=headerlink href=#2-45、查询各学生的年龄，只按年份来算 title=2.45、查询各学生的年龄，只按年份来算></a>2.45、查询各学生的年龄，只按年份来算</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br></pre><td class=code><pre><span class=line>select</span><br><span class=line>	st.sname,</span><br><span class=line>	DATE_FORMAT(st.birth, '%Y') as '出生年',</span><br><span class=line>	YEAR(NOW()) as '当前年',</span><br><span class=line>	YEAR(NOW()) - DATE_FORMAT(st.birth, '%Y') as age</span><br><span class=line>from s1_student as st</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.sid,</span><br><span class=line>	st.sname,</span><br><span class=line>	st.age,</span><br><span class=line>	st.birth,</span><br><span class=line>	ABS(2023 - EXTRACT(year from st.birth)) as "年龄"</span><br><span class=line>from s1_student as st</span><br></pre></table></figure><h2 id=2-46、按照出生日期来算，当前月日-出生年月的月日，则年龄减一><a title="2.46、按照出生日期来算，当前月日 < 出生年月的月日，则年龄减一" class=headerlink href=#2-46、按照出生日期来算，当前月日-出生年月的月日，则年龄减一></a>2.46、按照出生日期来算，当前月日 < 出生年月的月日，则年龄减一</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br></pre><td class=code><pre><span class=line>select</span><br><span class=line>	o1.sid,</span><br><span class=line>	o1.sname,</span><br><span class=line>	o1.age,</span><br><span class=line>	CASE WHEN o1.currday < o1.mounth </span><br><span class=line>	THEN o1.age - 1 </span><br><span class=line>	ELSE o1.age </span><br><span class=line>	END as newage</span><br><span class=line>from (</span><br><span class=line>	select </span><br><span class=line>		st.sid,</span><br><span class=line>		st.sname,</span><br><span class=line>		YEAR(NOW()) - DATE_FORMAT(st.birth, '%Y') as age,</span><br><span class=line>		DATE_FORMAT(st.birth, '%m-%d') as mounth,</span><br><span class=line>		DATE_FORMAT(NOW(), '%m-%d') as currday</span><br><span class=line>	from s1_student as st</span><br><span class=line>)as o1</span><br><span class=line></span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	o1.sid,</span><br><span class=line>	o1.sname,</span><br><span class=line>	o1.birth,</span><br><span class=line>	IF(EXTRACT(month from NOW()) < o1.m and EXTRACT(day from NOW()) < o1.d, </span><br><span class=line>	ABS(EXTRACT(year from NOW()) - o1.y) - 1,</span><br><span class=line>	ABS(EXTRACT(year from NOW()) - o1.y) + 1) as "年龄"</span><br><span class=line>from (</span><br><span class=line>	select</span><br><span class=line>		st.sid,</span><br><span class=line>		st.sname,</span><br><span class=line>		st.birth,</span><br><span class=line>		EXTRACT(year from st.birth) as "y",</span><br><span class=line>		EXTRACT(month from st.birth) as "m",</span><br><span class=line>		EXTRACT(day from st.birth) as "d"</span><br><span class=line>	from s1_student as st</span><br><span class=line>) as o1</span><br></pre></table></figure><h2 id=2-47、查询本周过生日的学生><a class=headerlink href=#2-47、查询本周过生日的学生 title=2.47、查询本周过生日的学生></a>2.47、查询本周过生日的学生</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	st.sid,</span><br><span class=line>	st.sname,</span><br><span class=line>	WEEK(st.birth) as '出生周',</span><br><span class=line>	WEEK(NOW()) as '当前周'</span><br><span class=line>from s1_student as st</span><br><span class=line>where WEEK(st.birth) = WEEK(NOW())</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>where EXTRACT(week from st.birth) = EXTRACT(week from NOW())</span><br></pre></table></figure><h2 id=2-48、查询下周过生日的学生><a class=headerlink href=#2-48、查询下周过生日的学生 title=2.48、查询下周过生日的学生></a>2.48、查询下周过生日的学生</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	st.sid,</span><br><span class=line>	st.sname,</span><br><span class=line>	st.birth,</span><br><span class=line>	WEEK(st.birth) as '出生周',</span><br><span class=line>	WEEK(DATE_ADD(NOW(),INTERVAL 1 WEEK)) as '下周'</span><br><span class=line>from s1_student as st</span><br><span class=line>where WEEK(st.birth) = WEEK(DATE_ADD(NOW(),INTERVAL 1 WEEK))</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select</span><br><span class=line>	st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>where EXTRACT(week from DATE_ADD(st.birth, INTERVAL 1 week)) = EXTRACT(week from NOW())</span><br></pre></table></figure><h2 id=2-49、查询本月过生日的学生><a class=headerlink href=#2-49、查询本月过生日的学生 title=2.49、查询本月过生日的学生></a>2.49、查询本月过生日的学生</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	st.sname,</span><br><span class=line>	st.birth,</span><br><span class=line>	MONTH(st.birth) as "出生月",</span><br><span class=line>	MONTH(NOW()) as "当前月"</span><br><span class=line>from s1_student as st</span><br><span class=line>where MONTH(st.birth) = MONTH(NOW())</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>where EXTRACT(month from st.birth) = EXTRACT(month from NOW())</span><br></pre></table></figure><h2 id=2-50、查询下月过生日的学生><a class=headerlink href=#2-50、查询下月过生日的学生 title=2.50、查询下月过生日的学生></a>2.50、查询下月过生日的学生</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre><td class=code><pre><span class=line>select </span><br><span class=line>	sid,</span><br><span class=line>	sname,</span><br><span class=line>	birth,</span><br><span class=line>	MONTH(birth) as '出生月',</span><br><span class=line>	MONTH(DATE_ADD(NOW(), INTERVAL 1 MONTH)) as '下月'</span><br><span class=line>from s1_student</span><br><span class=line>where MONTH(birth) = MONTH(DATE_ADD(NOW(), INTERVAL 1 MONTH))</span><br><span class=line></span><br><span class=line># 解法2</span><br><span class=line>select st.*</span><br><span class=line>from s1_student as st</span><br><span class=line>where EXTRACT(month from st.birth) = EXTRACT(month from DATE_ADD(NOW(), INTERVAL 1 month))</span><br></pre></table></figure><h1 id=3、函数扩展><a class=headerlink href=#3、函数扩展 title=3、函数扩展></a>3、函数扩展</h1><h2 id=3-1、字符串函数><a class=headerlink href=#3-1、字符串函数 title=3.1、字符串函数></a>3.1、字符串函数</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line># SQL Runoob Gooogle Facebook</span><br><span class=line>SELECT CONCAT("SQL ", "Runoob ", "Gooogle ", "Facebook") AS ConcatenatedString;</span><br><span class=line></span><br><span class=line># SQL-Tutorial-is-fun!</span><br><span class=line>SELECT CONCAT_WS("-", "SQL", "Tutorial", "is", "fun!")AS ConcatenatedString;</span><br><span class=line></span><br><span class=line># 小写转大写</span><br><span class=line>SELECT UCASE("runoob"); -- RUNOOB</span><br><span class=line>SELECT UPPER("runoob"); -- RUNOOB</span><br></pre></table></figure><h2 id=3-2、数字函数><a class=headerlink href=#3-2、数字函数 title=3.2、数字函数></a>3.2、数字函数</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line># 绝对值</span><br><span class=line>SELECT ABS(-1) -- 返回1</span><br><span class=line></span><br><span class=line># 大于或等于当前值的最小整数</span><br><span class=line>SELECT CEIL(1.5) -- 返回2</span><br><span class=line>SELECT CEILING(1.5); -- 返回2</span><br><span class=line></span><br><span class=line># 小于或等于当前值的最大整数</span><br><span class=line>SELECT FLOOR(1.5) -- 返回1</span><br></pre></table></figure><h2 id=3-3、日期函数><a class=headerlink href=#3-3、日期函数 title=3.3、日期函数></a>3.3、日期函数</h2><figure class="highlight plaintext"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br></pre><td class=code><pre><span class=line># 返回当前日期</span><br><span class=line>SELECT CURDATE();-- 2018-09-19</span><br><span class=line>SELECT CURRENT_DATE();-- 2018-09-19</span><br><span class=line># 返回当前时间</span><br><span class=line>SELECT CURTIME();-- 19:59:02</span><br><span class=line>SELECT CURRENT_TIME();-- 19:59:02</span><br><span class=line># 返回当前日期和时间</span><br><span class=line>SELECT CURRENT_TIMESTAMP();-- 2018-09-19 20:57:43</span><br><span class=line>select LOCALTIME(); -- 2013-08-31 21:09:52</span><br><span class=line>select LOCALTIMESTAMP(); -- 2013-08-31 21:10:31</span><br><span class=line>select SYSDATE(); -- 2013-03-31 21:10:31</span><br><span class=line></span><br><span class=line># 返回指定日期中的指定字段值,函数名可取值：</span><br><span class=line># DAYNAME(d) / DAYOFWEEK(d) 返回日期 d 是星期几</span><br><span class=line># DAYOFMONTH(d) 日期d是本月第几天</span><br><span class=line># DAYOFYEAR(d) 日期d是本年第几天</span><br><span class=line># 除了上面几个还有很多，详情查看官网。</span><br><span class=line>SELECT DATE("2017-06-15"); -- 2017-06-15</span><br><span class=line>SELECT DAY ( "2017-06-15" );-- 15</span><br><span class=line># EXTRACT(type FROM d)从日期d中获取type指定的值</span><br><span class=line>SELECT EXTRACT(MINUTE FROM '2011-11-11 11:11:11'); -- 11</span><br><span class=line># 返回给定日期当月的最后一天</span><br><span class=line>SELECT LAST_DAY("2017-06-20"); -- 2017-06-30</span><br><span class=line></span><br><span class=line># 加上一个指定的日期或时间，最后一位参数值可改变，取值范围较多，详情查看官网。</span><br><span class=line>SELECT ADDDATE( "2017-06-15", INTERVAL 10 DAY );-- 2017-06-25</span><br><span class=line>SELECT DATE_ADD( "2017-06-15", INTERVAL 10 DAY );-- 2017-06-25</span><br><span class=line>SELECT DATE_ADD( "2017-06-15 09:34:21", INTERVAL 15 MINUTE );-- 2017-06-15 09:49:21</span><br><span class=line>SELECT DATE_ADD( "2017-06-15 09:34:21", INTERVAL - 3 HOUR );-- 2017-06-15 06:34:21</span><br><span class=line>SELECT DATE_ADD( "2017-06-15 09:34:21", INTERVAL - 3 MONTH );-- 2017-04-15</span><br><span class=line># 指定日期时间加上指定时间</span><br><span class=line>SELECT ADDTIME( "2020-06-15 09:34:21", "2:10:5" );-- 2020-06-15 11:44:26</span><br><span class=line></span><br><span class=line># 减去指定日期或时间</span><br><span class=line>SELECT DATE_SUB("2017-06-15", INTERVAL 2 DAY); -- "2017-06-13"</span><br><span class=line># 减去指定天数（天）</span><br><span class=line>select SUBDATE("2017-06-15", 1);</span><br><span class=line></span><br><span class=line># 两个日期之间天数差</span><br><span class=line>SELECT DATEDIFF( '2001-01-01', '2001-02-02' );-- -32</span><br><span class=line># 将日期按指定格式输出</span><br><span class=line>SELECT DATE_FORMAT('2011-11-11 11:11:11','%Y-%m-%d %r');</span><br></pre></table></figure></div><footer class=post-footer><div class=post-tags><a href=/tags/SQL%E7%BB%83%E4%B9%A0/ rel=tag># SQL练习</a><a href=/tags/MySQL%E7%BB%83%E4%B9%A0/ rel=tag># MySQL练习</a></div><div class=post-nav><div class=post-nav-item><a href=/2024/08/21/MySQL%E7%BB%8F%E5%85%B8SQL%E7%BB%83%E4%B9%A0%E9%A2%98%E7%AC%AC%E4%BA%8C%E7%AF%87/ rel=prev title=MySQL系列-MySQL经典SQL练习题第二篇> <i class="fa fa-angle-left"></i> MySQL系列-MySQL经典SQL练习题第二篇 </a></div><div class=post-nav-item><a href=/2024/08/21/MySQL%E7%BB%8F%E5%85%B8SQL%E7%BB%83%E4%B9%A0%E9%A2%98%E4%B9%8BLeetcode%E7%AF%87%EF%BC%88%E4%B8%80%EF%BC%89/ rel=next title=MySQL系列-MySQL经典SQL练习题之Leetcode篇（一）> MySQL系列-MySQL经典SQL练习题之Leetcode篇（一） <i class="fa fa-angle-right"></i> </a></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© <span itemprop=copyrightYear>2024</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>豪哥</span></div></div></footer><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div><div class=sidebar-dimmer></div><div aria-label=返回顶部 class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script crossorigin=anonymous integrity=sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY= src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script src=/js/comments.js></script><script src=/js/utils.js></script><script src=/js/motion.js></script><script src=/js/sidebar.js></script><script src=/js/next-boot.js></script><script crossorigin=anonymous integrity=sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc= src=https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js></script><script src=/js/third-party/search/local-search.js></script>